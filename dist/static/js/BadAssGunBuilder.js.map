{"version":3,"sources":["webpack:///static/js/BadAssGunBuilder.js","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/product-list/product-list.vue","webpack:///src/components/product-list/product-list.vue","webpack:///./src/components/product-list/product.vue?4889","webpack:///src/components/product-list/product.vue","webpack:///./src/components/product-list/product-options.vue?aaf6","webpack:///src/components/product-list/product-options.vue","webpack:///./src/components/product-list/product-options.vue?da62","webpack:///./src/components/product-list/product.vue?61c2","webpack:///./src/components/product-list/product-list.vue?1ace","webpack:///./src/components/buy-button.vue","webpack:///src/components/buy-button.vue","webpack:///./src/components/buy-button.vue?ee98","webpack:///./src/components/collection-price.vue?bea9","webpack:///src/components/collection-price.vue","webpack:///./src/components/collection-price.vue?8395","webpack:///./src/components/viewer/viewer.vue?9c25","webpack:///src/components/viewer/viewer.vue","webpack:///./src/components/viewer/product-image.vue?8bf4","webpack:///src/components/viewer/product-image.vue","webpack:///./src/components/viewer/product-image.vue?c8e1","webpack:///./src/components/viewer/viewer.vue?b9df","webpack:///./src/App.vue?3c5b","webpack:///./src/services/DataStore.js","webpack:///./src/services/StateBuilder.js","webpack:///./src/services/Product.js","webpack:///./src/services/LinkedOptions.js","webpack:///./src/services/ShopifyClient.js","webpack:///./src/services/Dispatcher.js","webpack:///./src/services/cache/index.js","webpack:///./src/services/cache/localstorage-backend.js","webpack:///./src/services/cache/in-memory-backend.js","webpack:///./src/services/UiStore.js"],"names":["bagb","webpackJsonpbagb","167","module","__webpack_exports__","__webpack_require__","build","el","config","client","__WEBPACK_IMPORTED_MODULE_2__services__","cache","store","uiStore","dispatcher","init","then","__WEBPACK_IMPORTED_MODULE_0_vue___default","a","productionTip","use","install","Vue","options","prototype","$dispatcher","$getSelectedVariant","getSelectedVariant","bind","$store","$uiStore","template","components","App","__WEBPACK_IMPORTED_MODULE_1__App_vue__","data","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","n","__WEBPACK_IMPORTED_MODULE_3_babel_polyfill__","169","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_535f74d5_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","170","exports","172","__WEBPACK_IMPORTED_MODULE_0__components_product_list_product_list_vue__","__WEBPACK_IMPORTED_MODULE_1__components_buy_button_vue__","__WEBPACK_IMPORTED_MODULE_2__components_collection_price_vue__","__WEBPACK_IMPORTED_MODULE_3__components_viewer_viewer_vue__","name","props","type","required","ProductList","BuyButton","CollectionPrice","Viewer","collection","this","state","products","173","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_list_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a2a5405c_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_list_vue__","174","175","__WEBPACK_IMPORTED_MODULE_0__product_vue__","Product","Array","176","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_04e8f0c9_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__","177","178","__WEBPACK_IMPORTED_MODULE_0__product_options_vue__","ProductOptions","product","showOptions","uiState","computed","hasAvailableOptions","variants","length","option_values","optionsAreVisible","visibleProductId","product_id","unlinkedOptions","_this","filter","option","linkedOptions","servants","indexOf","id","methods","showThisProduct","showProduct","179","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_options_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4ca4491a_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_options_vue__","180","181","hideHeader","Boolean","selectedValue","get","selections","select","updateSelection","182","render","_vm","_h","$createElement","_c","_self","_e","_v","_s","_l","key","class","active","on","click","$event","staticRenderFns","esExports","183","has-options","title","stopPropagation","attrs","hide-header","184","185","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_buy_button_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1618d046_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_buy_button_vue__","186","isBuying","handleClick","addToCart","187","staticClass","disabled","188","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_collection_price_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e0f0adf2_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_collection_price_vue__","189","190","totalPrice","map","p","price","reduce","t","v","Number","toFixed","e","191","192","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_viewer_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7786c45c_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_viewer_vue__","193","194","__WEBPACK_IMPORTED_MODULE_0__product_image_vue__","ProductImage","195","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_image_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_30cb1026_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_product_image_vue__","196","197","selectedVariantImage","images","src","selectedVariant","selectedVariantId","img","find","image","variant_ids","variantId","198","199","200","201","__WEBPACK_IMPORTED_MODULE_0__DataStore__","d","__WEBPACK_IMPORTED_MODULE_1__ShopifyClient__","__WEBPACK_IMPORTED_MODULE_2__Dispatcher__","__WEBPACK_IMPORTED_MODULE_3__cache__","__WEBPACK_IMPORTED_MODULE_4__UiStore__","202","DataStore","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3__StateBuilder__","__WEBPACK_IMPORTED_MODULE_4__LinkedOptions__","stateBuilder","cachedState","sync","createState","resolve","fetch","results","set","cacheLifetime","_this2","variantName","join","variant","227","StateBuilder","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_3__Product__","DEFAULT_STORE","forEach","index","push","productsById","optionsById","values","concat","quantity","231","contains","array","optionValue","raw","self","232","LinkedOptions","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","controllers","lookup","link","_link$split","split","_link$split2","productName","optionName","console","warn","o","slaves","lo","s","cId","optionId","linkedOption","244","ShopifyClient","__WEBPACK_IMPORTED_MODULE_1_shopify_buy___default","buildClient","cart","createCart","newCart","isLoaded","cloneArray","slice","sortProducts","sortOrder","nonConfiguredProducts","unsortableProducts","toLowerCase","productComparer","b","nameA","nameB","indexA","indexB","includes","splice","sort","reject","maybeReturn","unpackResponse","response","item","fetchCollection","catch","fetchQueryProducts","collection_id","items","addVariants","apply","__WEBPACK_IMPORTED_MODULE_1_shopify_buy__","250","251","Dispatcher","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","shopifyClient","window","parent","postMessage","message","checkoutUrl","location","252","Cache","backend","preferLocalStorage","keyNamespace","backendSetter","Error","backendGetter","backendPurger","isLocalStorageSupported","ttl","vt","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","undefined","valueObject","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","Date","getTime","res","JSON","parse","purge","__WEBPACK_IMPORTED_MODULE_2__localstorage_backend__","__WEBPACK_IMPORTED_MODULE_3__in_memory_backend__","setter","getter","purger","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","269","localStorage","setItem","getItem","removeItem","270","storageObj","271","UiStore"],"mappings":"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","file":"static/js/BadAssGunBuilder.js","sourcesContent":["var bagb =\nwebpackJsonpbagb([1],{\n\n/***/ 167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"build\"] = build;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services__ = __webpack_require__(201);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_polyfill__ = __webpack_require__(272);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_polyfill__);\n\n\n\n\n\n\nfunction build(el, config) {\n  var client = new __WEBPACK_IMPORTED_MODULE_2__services__[\"d\" /* ShopifyClient */](config);\n  var cache = new __WEBPACK_IMPORTED_MODULE_2__services__[\"a\" /* Cache */]();\n  var store = new __WEBPACK_IMPORTED_MODULE_2__services__[\"b\" /* DataStore */](config, client, cache);\n  var uiStore = new __WEBPACK_IMPORTED_MODULE_2__services__[\"e\" /* UiStore */]();\n  var dispatcher = new __WEBPACK_IMPORTED_MODULE_2__services__[\"c\" /* Dispatcher */](store, client);\n\n  store.init().then(function () {\n    __WEBPACK_IMPORTED_MODULE_0_vue___default.a.config.productionTip = false;\n\n    __WEBPACK_IMPORTED_MODULE_0_vue___default.a.use({\n      install: function install(Vue, options) {\n        Vue.prototype.$dispatcher = dispatcher;\n        Vue.prototype.$getSelectedVariant = store.getSelectedVariant.bind(store);\n        Vue.prototype.$store = store;\n        Vue.prototype.$uiStore = uiStore;\n      }\n    });\n\n    new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n      el: el,\n      template: '<App :store=\"store\"></App>',\n      components: { App: __WEBPACK_IMPORTED_MODULE_1__App_vue__[\"a\" /* default */] },\n      data: { store: store }\n    });\n  });\n}\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_535f74d5_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(200);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(170)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-535f74d5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_535f74d5_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_product_list_product_list_vue__ = __webpack_require__(173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_buy_button_vue__ = __webpack_require__(185);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_collection_price_vue__ = __webpack_require__(188);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_viewer_viewer_vue__ = __webpack_require__(192);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  props: {\n    store: {\n      type: Object,\n      required: true\n    }\n  },\n\n  components: {\n    ProductList: __WEBPACK_IMPORTED_MODULE_0__components_product_list_product_list_vue__[\"a\" /* default */],\n    BuyButton: __WEBPACK_IMPORTED_MODULE_1__components_buy_button_vue__[\"a\" /* default */],\n    CollectionPrice: __WEBPACK_IMPORTED_MODULE_2__components_collection_price_vue__[\"a\" /* default */],\n    Viewer: __WEBPACK_IMPORTED_MODULE_3__components_viewer_viewer_vue__[\"a\" /* default */]\n  },\n\n  data: function data() {\n    return {\n      collection: this.store.state.collection,\n      products: this.store.state.products\n    };\n  }\n});\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_list_vue__ = __webpack_require__(175);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a2a5405c_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_list_vue__ = __webpack_require__(184);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(174)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2a5405c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_list_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a2a5405c_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_list_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__product_vue__ = __webpack_require__(176);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: {\n    Product: __WEBPACK_IMPORTED_MODULE_0__product_vue__[\"a\" /* default */]\n  },\n\n  props: {\n    products: Array\n  }\n});\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_04e8f0c9_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__ = __webpack_require__(183);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(177)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04e8f0c9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_04e8f0c9_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__product_options_vue__ = __webpack_require__(179);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: {\n    ProductOptions: __WEBPACK_IMPORTED_MODULE_0__product_options_vue__[\"a\" /* default */]\n  },\n\n  props: {\n    product: Object\n  },\n\n  data: function data() {\n    return {\n      showOptions: false,\n      uiState: this.$uiStore.state\n    };\n  },\n\n\n  computed: {\n    hasAvailableOptions: function hasAvailableOptions() {\n      return !(this.product.variants.length === 1 && this.product.variants[0].option_values.length === 1);\n    },\n    optionsAreVisible: function optionsAreVisible() {\n      return this.hasAvailableOptions && this.uiState.visibleProductId === this.product.product_id;\n    },\n    unlinkedOptions: function unlinkedOptions() {\n      var _this = this;\n\n      return this.product.options.filter(function (option) {\n        return _this.$store.linkedOptions.servants.indexOf(option.id) === -1;\n      });\n    }\n  },\n\n  methods: {\n    showThisProduct: function showThisProduct() {\n      this.$uiStore.showProduct(this.product);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_options_vue__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4ca4491a_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_options_vue__ = __webpack_require__(182);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(180)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4ca4491a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_options_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4ca4491a_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_product_options_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    option: Object,\n    hideHeader: Boolean\n  },\n\n  computed: {\n    selectedValue: {\n      get: function get() {\n        return this.$store.state.selections[this.option.id];\n      }\n    }\n  },\n  methods: {\n    select: function select(value) {\n      this.$dispatcher.updateSelection(this.option.id, value);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(!_vm.hideHeader) ? _c('h3', [_vm._v(_vm._s(_vm.option.name))]) : _vm._e(), _vm._v(\" \"), _c('ul', _vm._l((_vm.option.values), function(value) {\n    return _c('li', {\n      key: value,\n      class: {\n        active: _vm.selectedValue === value\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.select(value)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(value) + \"\\n    \")])\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', {\n    class: {\n      'has-options': _vm.hasAvailableOptions\n    },\n    on: {\n      \"click\": _vm.showThisProduct\n    }\n  }, [_vm._v(\"\\n  \" + _vm._s(_vm.product.title) + \"\\n  \"), (_vm.optionsAreVisible) ? _c('div', {\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n      }\n    }\n  }, _vm._l((_vm.unlinkedOptions), function(option) {\n    return _c('product-options', {\n      key: option.id,\n      attrs: {\n        \"option\": option,\n        \"hide-header\": _vm.unlinkedOptions.length === 1\n      }\n    })\n  })) : _vm._e()])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', _vm._l((_vm.products), function(product) {\n    return _c('product', {\n      key: product.product_id,\n      attrs: {\n        \"product\": product\n      }\n    })\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_buy_button_vue__ = __webpack_require__(186);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1618d046_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_buy_button_vue__ = __webpack_require__(187);\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_buy_button_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1618d046_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_buy_button_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    store: Object\n  },\n\n  data: function data() {\n    return {\n      isBuying: false\n    };\n  },\n\n\n  methods: {\n    handleClick: function handleClick() {\n      this.isBuying = true;\n      this.store.addToCart();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', [_c('button', {\n    staticClass: \"btn\",\n    attrs: {\n      \"disabled\": _vm.isBuying\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleClick()\n      }\n    }\n  }, [_vm._v(\"Take my money!\")])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_collection_price_vue__ = __webpack_require__(190);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e0f0adf2_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_collection_price_vue__ = __webpack_require__(191);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(189)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e0f0adf2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_collection_price_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_e0f0adf2_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_collection_price_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    store: Object\n  },\n  computed: {\n    totalPrice: function totalPrice() {\n      var _this = this;\n\n      try {\n        var selectedVariants = this.store.state.products.map(function (p) {\n          return _this.$getSelectedVariant(p).price;\n        });\n        var total = selectedVariants.reduce(function (t, v) {\n          return t + Number(v);\n        }, 0);\n        return '$ ' + total.toFixed(2);\n      } catch (e) {\n        return 'Invalid options selected';\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"price-wrapper\"\n  }, [_c('span', {\n    staticClass: \"price-label\"\n  }, [_vm._v(\"Total cost:\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"price-value\"\n  }, [_vm._v(_vm._s(_vm.totalPrice))])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_viewer_vue__ = __webpack_require__(194);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7786c45c_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_viewer_vue__ = __webpack_require__(199);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(193)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7786c45c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_viewer_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7786c45c_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_viewer_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__product_image_vue__ = __webpack_require__(195);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: {\n    ProductImage: __WEBPACK_IMPORTED_MODULE_0__product_image_vue__[\"a\" /* default */]\n  },\n\n  props: {\n    products: Array\n  }\n});\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_image_vue__ = __webpack_require__(197);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_30cb1026_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_product_image_vue__ = __webpack_require__(198);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(196)\n}\nvar normalizeComponent = __webpack_require__(31)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_product_image_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_30cb1026_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_product_image_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    product: Object\n  },\n\n  computed: {\n    selectedVariantImage: function selectedVariantImage() {\n      var DEFAULT_THUMBNAIL = null;\n\n      if (!this.product.images || this.product.images.length === 0) {\n        return DEFAULT_THUMBNAIL;\n      }\n\n      if (this.product.variants.length === 1 && this.product.variants[0].option_values.length === 1) {\n        return this.product.images[0].src;\n      }\n\n      var selectedVariant = this.$getSelectedVariant(this.product);\n      if (!selectedVariant) {\n        return this.product.images[0].src;\n      }\n\n      var selectedVariantId = selectedVariant.id;\n      var img = this.product.images.find(function (image) {\n        return image.variant_ids.find(function (variantId) {\n          return variantId === selectedVariantId;\n        });\n      });\n      return img ? img.src : DEFAULT_THUMBNAIL;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"pi\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.selectedVariantImage\n    }\n  })])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, _vm._l((_vm.products), function(product) {\n    return _c('product-image', {\n      key: product.product_id,\n      attrs: {\n        \"product\": product\n      }\n    })\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"grid-uniform grid-link__container\"\n  }, [_c('product-list', {\n    staticClass: \"grid__item large--one-fifth medium-down--one-half\",\n    attrs: {\n      \"products\": _vm.products\n    }\n  }), _vm._v(\" \"), _c('viewer', {\n    staticClass: \"grid__item large--four-fifths medium-down--one-half\",\n    attrs: {\n      \"products\": _vm.products\n    }\n  })], 1), _vm._v(\" \"), _c('div', [_c('collection-price', {\n    attrs: {\n      \"store\": _vm.store\n    }\n  }), _vm._v(\" \"), _c('buy-button', {\n    attrs: {\n      \"store\": _vm.store\n    }\n  })], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DataStore__ = __webpack_require__(202);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataStore__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ShopifyClient__ = __webpack_require__(244);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_1__ShopifyClient__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Dispatcher__ = __webpack_require__(251);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_2__Dispatcher__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__cache__ = __webpack_require__(252);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_3__cache__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__UiStore__ = __webpack_require__(271);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_4__UiStore__[\"a\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DataStore; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__StateBuilder__ = __webpack_require__(227);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__LinkedOptions__ = __webpack_require__(232);\n\n\n\n\n\n\nvar DataStore = function () {\n  function DataStore(config, client, cache) {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, DataStore);\n\n    this.config = config;\n    this.client = client;\n    this.cache = cache;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(DataStore, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      var stateBuilder = new __WEBPACK_IMPORTED_MODULE_3__StateBuilder__[\"a\" /* StateBuilder */](this.config);\n      var cachedState = this.cache.get('store');\n      this.linkedOptions = new __WEBPACK_IMPORTED_MODULE_4__LinkedOptions__[\"a\" /* LinkedOptions */](this);\n\n      var sync = function sync(state) {\n        _this.state = stateBuilder.createState(state);\n        _this.linkedOptions.init(_this.config.products.linkedOptions);\n      };\n\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        if (cachedState) {\n          sync(cachedState);\n          resolve();\n        } else {\n          _this.client.fetch().then(function (results) {\n            _this.cache.set('store', results, _this.config.cacheLifetime);\n            sync(results);\n            resolve();\n          });\n        }\n      });\n    }\n  }, {\n    key: 'getSelectedVariant',\n    value: function getSelectedVariant(product) {\n      var _this2 = this;\n\n      var variantName = product.options.map(function (option) {\n        return _this2.state.selections[option.id];\n      }).join(' / ');\n      return product.variants.find(function (variant) {\n        return variant.title === variantName;\n      });\n    }\n  }]);\n\n  return DataStore;\n}();\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return StateBuilder; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(137);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Product__ = __webpack_require__(231);\n\n\n\n\n\nvar StateBuilder = function () {\n  function StateBuilder(config) {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, StateBuilder);\n\n    this.config = config;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(StateBuilder, [{\n    key: 'createState',\n    value: function createState(results) {\n      var state = DEFAULT_STORE;\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(state.collection, results.collection);\n      results.products.forEach(function (product, index) {\n        var p = new __WEBPACK_IMPORTED_MODULE_3__Product__[\"a\" /* Product */](product);\n        state.products.push(p);\n        state.productsById[p.product_id] = p;\n\n        p.options.forEach(function (option) {\n          state.optionsById[option.id] = option;\n          state.selections[option.id] = option.values[0];\n        });\n\n        state.variants = state.variants.concat(p.variants);\n      });\n\n      return state;\n    }\n  }]);\n\n  return StateBuilder;\n}();\n\nvar DEFAULT_STORE = {\n  collection: {\n    title: ''\n  },\n  products: [],\n  productsById: {},\n  optionsById: {},\n  variants: [],\n  selections: {},\n  quantity: 1\n};\n\n/***/ }),\n\n/***/ 231:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Product; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(137);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n\n\nvar contains = function contains(array, optionValue) {\n  return array.find(function (value) {\n    return value === optionValue;\n  });\n};\n\nvar Product = function Product(raw) {\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Product);\n\n  var self = this;\n\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(self, raw);\n\n  self.variants.forEach(function (variant) {\n    variant.option_values.forEach(function (optionValue, index) {\n      var values = raw.options[index].values;\n      optionValue = optionValue.value;\n      if (!values) {\n        values = raw.options[index].values = [];\n      }\n      if (!contains(values, optionValue)) {\n        values.push(optionValue);\n      }\n    });\n  });\n};\n\n/***/ }),\n\n/***/ 232:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return LinkedOptions; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(233);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__ = __webpack_require__(237);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n\n\n\n\n\nvar LinkedOptions = function () {\n  function LinkedOptions(store) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, LinkedOptions);\n\n    this.store = store;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(LinkedOptions, [{\n    key: 'init',\n    value: function init(linkedOptions) {\n      var _this = this;\n\n      var products = this.store.state.products;\n\n      var controllers = {};\n\n      var servants = [];\n\n      var lookup = function lookup(link) {\n        var _link$split = link.split('.'),\n            _link$split2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default()(_link$split, 2),\n            productName = _link$split2[0],\n            optionName = _link$split2[1];\n\n        var product = products.find(function (p) {\n          return p.title === productName;\n        });\n        if (!product) {\n          console.warn('Invalid linkedOptions setting \\'' + link + '\\'');\n          return;\n        }\n\n        var option = product.options.find(function (o) {\n          return o.name === optionName;\n        });\n        if (!option) {\n          console.warn('Invalid linkedOptions setting \\'' + link + '\\'');\n          return;\n        }\n\n        return option;\n      };\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(linkedOptions).forEach(function (o) {\n        var option = lookup(o);\n        var slaves = linkedOptions[o].map(function (lo) {\n          return lookup(lo);\n        }).filter(function (o) {\n          return !!o;\n        });\n        servants = servants.concat(slaves.map(function (s) {\n          return s.id;\n        }));\n        controllers[option.id] = slaves;\n      });\n\n      this.controllers = controllers;\n      this.servants = servants;\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.controllers).forEach(function (cId) {\n        return _this.sync(cId);\n      });\n    }\n  }, {\n    key: 'sync',\n    value: function sync(optionId) {\n      var _this2 = this;\n\n      if (this.controllers[optionId]) {\n        this.controllers[optionId].forEach(function (linkedOption) {\n          _this2.store.state.selections[linkedOption.id] = _this2.store.state.selections[optionId];\n        });\n      }\n    }\n  }]);\n\n  return LinkedOptions;\n}();\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ShopifyClient;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_shopify_buy__ = __webpack_require__(245);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_shopify_buy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_shopify_buy__);\n\n\n\nfunction ShopifyClient(config) {\n  var store = {};\n  var client = __WEBPACK_IMPORTED_MODULE_1_shopify_buy___default.a.buildClient(config.client);\n  var cart = void 0;\n\n  client.createCart().then(function (newCart) {\n    cart = newCart;\n  });\n\n  var isLoaded = function isLoaded() {\n    return store.products && store.collection;\n  };\n\n  var cloneArray = function cloneArray(array) {\n    return array.slice(0);\n  };\n\n  var sortProducts = function sortProducts() {\n    if (!config.products.sortOrder) {\n      return;\n    }\n    var sortOrder = cloneArray(config.products.sortOrder);\n    var nonConfiguredProducts = cloneArray(config.products.sortOrder);\n    var unsortableProducts = [];\n\n    sortOrder.forEach(function (value, index) {\n      sortOrder[index] = value.toLowerCase();\n      nonConfiguredProducts[index] = value.toLowerCase();\n    });\n\n    var productComparer = function productComparer(a, b) {\n      var nameA = a.title.toLowerCase();\n      var nameB = b.title.toLowerCase();\n\n      var indexA = sortOrder.indexOf(nameA);\n      var indexB = sortOrder.indexOf(nameB);\n\n      if (indexA === -1) {\n        indexA = sortOrder.length;\n\n        if (!unsortableProducts.includes(nameA)) {\n          unsortableProducts.push(nameA);\n        }\n      } else if (nonConfiguredProducts.includes(nameA)) {\n        nonConfiguredProducts.splice(nonConfiguredProducts.indexOf(nameA), 1);\n      }\n\n      if (indexB === -1) {\n        indexB = sortOrder.length;\n\n        if (!unsortableProducts.includes(nameB)) {\n          unsortableProducts.push(nameB);\n        }\n      }\n\n      return indexA - indexB;\n    };\n\n    store.products.sort(productComparer);\n\n    if (nonConfiguredProducts.length) {\n      console.warn('Could not sort \"' + nonConfiguredProducts.join(',') + '\" because they\\'re not in the product list.');\n    }\n    if (unsortableProducts.length) {\n      console.warn('Could not sort \"' + unsortableProducts.join(',') + '\" because their order is not configured.');\n    }\n  };\n\n  this.fetch = function () {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n      var maybeReturn = function maybeReturn() {\n        if (isLoaded()) {\n          resolve(store);\n        }\n      };\n\n      var unpackResponse = function unpackResponse(response) {\n        return response.map(function (item) {\n          return item.attrs;\n        });\n      };\n\n      client.fetchCollection(config.collection.id).then(function (response) {\n        store.collection = unpackResponse([response])[0];\n        maybeReturn();\n      }).catch(reject);\n\n      client.fetchQueryProducts({ collection_id: config.collection.id }).then(function (response) {\n        store.products = unpackResponse(response);\n        sortProducts();\n        maybeReturn();\n      }).catch(reject);\n    });\n  };\n\n  this.addToCart = function (variants, quantity) {\n    var items = variants.map(function (variant) {\n      return { variant: variant, quantity: quantity };\n    });\n    return cart.addVariants.apply(cart, items);\n  };\n}\n\n/***/ }),\n\n/***/ 250:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 251:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Dispatcher; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\n\nvar Dispatcher = function () {\n  function Dispatcher(store, shopifyClient) {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Dispatcher);\n\n    this.store = store;\n    this.client = shopifyClient;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Dispatcher, [{\n    key: 'updateSelection',\n    value: function updateSelection(optionId, value) {\n      this.store.state.selections[optionId] = value;\n      this.store.linkedOptions.sync(optionId);\n    }\n  }, {\n    key: 'addToCart',\n    value: function addToCart() {\n      var _this = this;\n\n      var selections = this.store.state.products.map(function (product) {\n        return _this.store.getSelectedVariant(product);\n      });\n      return this.client.addToCart(selections, this.store.state.quantity).then(function (cart) {\n        if (window.parent !== window) {\n          window.parent.postMessage({\n            message: 'order-complete',\n            checkoutUrl: cart.checkoutUrl\n          }, '*');\n        } else {\n          window.location = cart.checkoutUrl;\n        }\n      });\n    }\n  }]);\n\n  return Dispatcher;\n}();\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Cache;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(253);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(255);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__localstorage_backend__ = __webpack_require__(269);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__in_memory_backend__ = __webpack_require__(270);\n\n\n\n\n\n\n\nfunction Cache(options) {\n  var backend = null;\n  var preferLocalStorage = true;\n  var keyNamespace = \"__BC_\";\n\n  var backendSetter = function backendSetter() {\n    throw new Error(\"ERROR: Backend setter not defined!\");\n  };\n  var backendGetter = function backendGetter() {\n    throw new Error(\"ERROR: Backend getter not defined!\");\n  };\n  var backendPurger = function backendPurger() {\n    throw new Error(\"ERROR: Backend purger not defined!\");\n  };\n\n  var init = function init(options) {\n    options = typeof options === \"object\" ? options : {};\n\n    keyNamespace = options.keyNamespace !== undefined ? options.keyNamespace : keyNamespace;\n    preferLocalStorage = options.preferLocalStorage !== undefined ? options.preferLocalStorage : preferLocalStorage;\n\n    if (preferLocalStorage && isLocalStorageSupported()) {\n      backend = __WEBPACK_IMPORTED_MODULE_2__localstorage_backend__[\"a\" /* default */];\n    } else {\n      backend = __WEBPACK_IMPORTED_MODULE_3__in_memory_backend__[\"a\" /* default */];\n    }\n\n    backendSetter = backend.setter;\n    backendGetter = backend.getter;\n    backendPurger = backend.purger;\n\n    return true;\n  };\n\n  var isLocalStorageSupported = function isLocalStorageSupported() {\n    try {\n      return \"localStorage\" in window && window[\"localStorage\"] !== null;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  this.set = function (key, value, ttl) {\n    var vt = typeof value === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(value);\n\n    if (key !== undefined && value !== undefined && vt !== \"function\") {\n      key = keyNamespace + key;\n\n      ttl = typeof ttl === \"number\" && ttl >= 0 ? ttl : 0;\n\n      var valueObject = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({\n        e: ttl === 0 ? 0 : new Date().getTime() + ttl,\n        d: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(value)\n      });\n\n      return backendSetter(key, valueObject);\n    } else {\n      return null;\n    }\n  };\n\n  this.get = function (key) {\n    if (typeof key === \"string\") {\n      key = keyNamespace + key;\n\n      var res = backendGetter(key);\n\n      if (res !== null) {\n        var v = JSON.parse(res);\n\n        if (v.e === 0 || v.e >= new Date().getTime()) {\n          return JSON.parse(v.d);\n        } else {\n          backendPurger(key);\n          return null;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  this.purge = function (key) {\n    if (typeof key === \"string\") {\n      key = keyNamespace + key;\n\n      return backendPurger(key);\n    } else {\n      return null;\n    }\n  };\n\n  return init(options);\n};\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar localStorage = window.localStorage;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  setter: function setter(key, valueObject) {\n    return localStorage.setItem(key, valueObject);\n  },\n  getter: function getter(key) {\n    return localStorage.getItem(key);\n  },\n  purger: function purger(key) {\n    return localStorage.removeItem(key);\n  }\n});\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar storageObj = {};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  setter: function setter(key, valueObject) {\n    storageObj[key] = valueObject;\n  },\n  getter: function getter(key) {\n    return storageObj[key] !== undefined ? storageObj[key] : null;\n  },\n  purger: function purger(key) {\n    delete storageObj[key];\n    return null;\n  }\n});\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UiStore; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\nvar UiStore = function () {\n  function UiStore() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, UiStore);\n\n    this.state = {\n      visibleProductId: null\n    };\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(UiStore, [{\n    key: \"showProduct\",\n    value: function showProduct(product) {\n      if (this.state.visibleProductId === product.product_id) {\n        this.state.visibleProductId = null;\n      } else {\n        this.state.visibleProductId = product.product_id;\n      }\n    }\n  }]);\n\n  return UiStore;\n}();\n\n/***/ })\n\n},[167]);\n\n\n// WEBPACK FOOTER //\n// static/js/BadAssGunBuilder.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App.vue';\nimport { UiStore, Dispatcher, DataStore, ShopifyClient, Cache } from './services';\nimport 'babel-polyfill';\n\nexport function build (el, config) {\n  const client = new ShopifyClient(config);\n  const cache = new Cache();\n  const store = new DataStore(config, client, cache);\n  const uiStore = new UiStore();\n  const dispatcher = new Dispatcher(store, client);\n\n  store.init().then(() => {\n    Vue.config.productionTip = false;\n\n    Vue.use({\n      install (Vue, options) {\n        Vue.prototype.$dispatcher = dispatcher;\n        Vue.prototype.$getSelectedVariant = store.getSelectedVariant.bind(store);\n        Vue.prototype.$store = store;\n        Vue.prototype.$uiStore = uiStore;\n      }\n    });\n\n    /* eslint-disable no-new */\n    new Vue({\n      el,\n      template: '<App :store=\"store\"></App>',\n      components: {App},\n      data: {store}\n    });\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-535f74d5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-535f74d5\\\",\\\"hasScoped\\\":true}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-535f74d5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 169\n// module chunks = 1","<template>\n  <div>\n    <div class=\"grid-uniform grid-link__container\">\n      <product-list class=\"grid__item large--one-fifth medium-down--one-half\" :products=\"products\"></product-list>\n      <viewer class=\"grid__item large--four-fifths medium-down--one-half\" :products=\"products\"></viewer>\n    </div>\n\n    <div>\n      <collection-price :store=\"store\"></collection-price>\n      <buy-button :store=\"store\"></buy-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import ProductList from './components/product-list/product-list.vue';\n  import BuyButton from './components/buy-button.vue';\n  import CollectionPrice from './components/collection-price.vue';\n  import Viewer from './components/viewer/viewer.vue';\n\n  export default {\n    name: 'app',\n    props: {\n      store: {\n        type: Object,\n        required: true\n      }\n    },\n\n    components: {\n      ProductList,\n      BuyButton,\n      CollectionPrice,\n      Viewer\n    },\n\n    data () {\n      return {\n        collection: this.store.state.collection,\n        products: this.store.state.products\n      };\n    }\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue?f31906e2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a2a5405c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./product-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2a5405c\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product-list.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2a5405c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product-list/product-list.vue\n// module id = 173\n// module chunks = 1","<template>\n  <ul>\n    <product v-for=\"product in products\" :key=\"product.product_id\" :product=\"product\"></product>\n  </ul>\n</template>\n\n<style lang=\"scss\" scoped>\n</style>\n\n<script>\n  import Product from './product.vue';\n\n  export default {\n    components: {\n      Product\n    },\n\n    props: {\n      products: Array\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/product-list/product-list.vue?527f4987","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04e8f0c9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./product.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04e8f0c9\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04e8f0c9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product-list/product.vue\n// module id = 176\n// module chunks = 1","<template>\n  <li @click=\"showThisProduct\" :class=\"{'has-options': hasAvailableOptions}\">\n    {{product.title}}\n    <div v-if=\"optionsAreVisible\" @click.stop>\n      <product-options v-for=\"option in unlinkedOptions\"\n                       :option=\"option\"\n                       :hide-header=\"unlinkedOptions.length === 1\"\n                       :key=\"option.id\">\n      </product-options>\n    </div>\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  @import './styling/variables';\n  @import './styling/list-button.scss';\n\n  li {\n    @extend %list-button;\n\n    position: relative;\n\n    &.has-options:after {\n      content: '\\25B6';\n      position: absolute;\n      right: 5px;\n    }\n\n    > div {\n      margin-left: 80%;\n      width: 150%;\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n\n      // Background shouldn't bleed through\n      background: $color-white;\n\n      // ppp\n      padding: 5px;\n      border: 1px solid $color-green;\n      border-radius: 5px;\n    }\n  }\n</style>\n\n<script>\n  import ProductOptions from './product-options.vue';\n\n  export default {\n    components: {\n      ProductOptions\n    },\n\n    props: {\n      product: Object\n    },\n\n    data () {\n      return {\n        showOptions: false,\n        uiState: this.$uiStore.state\n      };\n    },\n\n    computed: {\n      hasAvailableOptions () {\n        return !(this.product.variants.length === 1 && this.product.variants[0].option_values.length === 1);\n      },\n\n      optionsAreVisible () {\n        return this.hasAvailableOptions && this.uiState.visibleProductId === this.product.product_id;\n      },\n\n      unlinkedOptions () {\n        return this.product.options.filter((option) => {\n          return this.$store.linkedOptions.servants.indexOf(option.id) === -1;\n        });\n      }\n    },\n\n    methods: {\n      showThisProduct () {\n        this.$uiStore.showProduct(this.product);\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/product-list/product.vue?1eecd11a","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ca4491a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./product-options.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product-options.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ca4491a\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product-options.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4ca4491a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/product-list/product-options.vue\n// module id = 179\n// module chunks = 1","<template>\n  <div>\n    <h3 v-if=\"!hideHeader\">{{ option.name }}</h3>\n    <ul>\n      <li v-for=\"value in option.values\"\n          :key=\"value\"\n          :class=\"{active: selectedValue === value}\"\n          @click=\"select(value)\">\n        {{value}}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @import './styling/variables';\n  @import './styling/list-button.scss';\n\n  h3 {\n    font-size: 1.1rem;\n    margin-bottom: 0;\n    text-decoration: underline;\n  }\n\n  li {\n    @extend %list-button;\n  }\n\n  div {\n    position: relative;\n    color: $color-grey;\n  }\n</style>\n\n<script>\n  export default {\n    props: {\n      option: Object,\n      hideHeader: Boolean\n    },\n\n    computed: {\n      selectedValue: {\n        get () {\n          return this.$store.state.selections[this.option.id];\n        }\n      }\n    },\n    methods: {\n      select (value) {\n        this.$dispatcher.updateSelection(this.option.id, value);\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/product-list/product-options.vue?65a0b346","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(!_vm.hideHeader) ? _c('h3', [_vm._v(_vm._s(_vm.option.name))]) : _vm._e(), _vm._v(\" \"), _c('ul', _vm._l((_vm.option.values), function(value) {\n    return _c('li', {\n      key: value,\n      class: {\n        active: _vm.selectedValue === value\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.select(value)\n        }\n      }\n    }, [_vm._v(\"\\n      \" + _vm._s(value) + \"\\n    \")])\n  }))])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ca4491a\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/product-list/product-options.vue\n// module id = 182\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', {\n    class: {\n      'has-options': _vm.hasAvailableOptions\n    },\n    on: {\n      \"click\": _vm.showThisProduct\n    }\n  }, [_vm._v(\"\\n  \" + _vm._s(_vm.product.title) + \"\\n  \"), (_vm.optionsAreVisible) ? _c('div', {\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n      }\n    }\n  }, _vm._l((_vm.unlinkedOptions), function(option) {\n    return _c('product-options', {\n      key: option.id,\n      attrs: {\n        \"option\": option,\n        \"hide-header\": _vm.unlinkedOptions.length === 1\n      }\n    })\n  })) : _vm._e()])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04e8f0c9\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/product-list/product.vue\n// module id = 183\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', _vm._l((_vm.products), function(product) {\n    return _c('product', {\n      key: product.product_id,\n      attrs: {\n        \"product\": product\n      }\n    })\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a2a5405c\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/product-list/product-list.vue\n// module id = 184\n// module chunks = 1","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./buy-button.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1618d046\\\",\\\"hasScoped\\\":false}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./buy-button.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buy-button.vue\n// module id = 185\n// module chunks = 1","<template>\r\n  <span>\r\n    <button class=\"btn\" @click=\"handleClick()\" :disabled=\"isBuying\">Take my money!</button>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      store: Object\r\n    },\r\n\r\n    data () {\r\n      return {\r\n        isBuying: false\r\n      };\r\n    },\r\n\r\n    methods: {\r\n      handleClick () {\r\n        this.isBuying = true;\r\n        this.store.addToCart();\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/buy-button.vue?5660ca8e","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', [_c('button', {\n    staticClass: \"btn\",\n    attrs: {\n      \"disabled\": _vm.isBuying\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleClick()\n      }\n    }\n  }, [_vm._v(\"Take my money!\")])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1618d046\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/buy-button.vue\n// module id = 187\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e0f0adf2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./collection-price.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./collection-price.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e0f0adf2\\\",\\\"hasScoped\\\":true}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./collection-price.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e0f0adf2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/collection-price.vue\n// module id = 188\n// module chunks = 1","<template>\r\n    <span class=\"price-wrapper\">\r\n        <span class=\"price-label\">Total cost:</span>\r\n        <span class=\"price-value\">{{totalPrice}}</span>\r\n    </span>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .price-wrapper {\r\n        font-size: 1.5em;\r\n        margin-right: 20px;\r\n    }\r\n\r\n    .price-value {\r\n        font-weight: bold;\r\n    }\r\n</style>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      store: Object\r\n    },\r\n    computed: {\r\n      totalPrice () {\r\n        try {\r\n          const selectedVariants = this.store.state.products.map(p => this.$getSelectedVariant(p).price);\r\n          const total = selectedVariants.reduce((t, v) => t + Number(v), 0);\r\n          return `$ ${total.toFixed(2)}`;\r\n        } catch (e) {\r\n          return 'Invalid options selected';\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/collection-price.vue?413d9afb","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"price-wrapper\"\n  }, [_c('span', {\n    staticClass: \"price-label\"\n  }, [_vm._v(\"Total cost:\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"price-value\"\n  }, [_vm._v(_vm._s(_vm.totalPrice))])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e0f0adf2\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/collection-price.vue\n// module id = 191\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7786c45c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./viewer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./viewer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7786c45c\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./viewer.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7786c45c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/viewer/viewer.vue\n// module id = 192\n// module chunks = 1","<template>\n    <div class=\"container\">\n      <product-image v-for=\"product in products\" :key=\"product.product_id\" :product=\"product\"></product-image>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .container {\n    position: relative;\n    height: 420px;\n  }\n</style>\n\n<script>\n  import ProductImage from './product-image.vue';\n\n  export default {\n    components: {\n      ProductImage\n    },\n\n    props: {\n      products: Array\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/viewer/viewer.vue?53c46f3a","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30cb1026\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!sass-loader?sourceMap!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./product-image.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product-image.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30cb1026\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product-image.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/viewer/product-image.vue\n// module id = 195\n// module chunks = 1","<template>\n  <span class=\"pi\">\n    <img :src=\"selectedVariantImage\"/>\n  </span>\n</template>\n\n<style lang=\"scss\">\n  .pi {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n</style>\n\n<script>\n  export default {\n    props: {\n      product: Object\n    },\n\n    computed: {\n      selectedVariantImage () {\n        const DEFAULT_THUMBNAIL = null;\n\n        if (!this.product.images || this.product.images.length === 0) {\n          return DEFAULT_THUMBNAIL;\n        }\n\n        // If there's only one variant just return the first image.\n        if (this.product.variants.length === 1 && this.product.variants[0].option_values.length === 1) {\n          return this.product.images[0].src;\n        }\n\n        const selectedVariant = this.$getSelectedVariant(this.product);\n        if (!selectedVariant) {\n          return this.product.images[0].src;\n        }\n\n        const selectedVariantId = selectedVariant.id;\n        const img = this.product.images.find(image => image.variant_ids.find(variantId => variantId === selectedVariantId));\n        return img ? img.src : DEFAULT_THUMBNAIL;\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/viewer/product-image.vue?5c1a8338","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"pi\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.selectedVariantImage\n    }\n  })])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30cb1026\",\"hasScoped\":false}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/viewer/product-image.vue\n// module id = 198\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, _vm._l((_vm.products), function(product) {\n    return _c('product-image', {\n      key: product.product_id,\n      attrs: {\n        \"product\": product\n      }\n    })\n  }))\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7786c45c\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/viewer/viewer.vue\n// module id = 199\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    staticClass: \"grid-uniform grid-link__container\"\n  }, [_c('product-list', {\n    staticClass: \"grid__item large--one-fifth medium-down--one-half\",\n    attrs: {\n      \"products\": _vm.products\n    }\n  }), _vm._v(\" \"), _c('viewer', {\n    staticClass: \"grid__item large--four-fifths medium-down--one-half\",\n    attrs: {\n      \"products\": _vm.products\n    }\n  })], 1), _vm._v(\" \"), _c('div', [_c('collection-price', {\n    attrs: {\n      \"store\": _vm.store\n    }\n  }), _vm._v(\" \"), _c('buy-button', {\n    attrs: {\n      \"store\": _vm.store\n    }\n  })], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-535f74d5\",\"hasScoped\":true}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 200\n// module chunks = 1","import { StateBuilder } from './StateBuilder';\r\nimport { LinkedOptions } from './LinkedOptions';\r\n\r\nexport class DataStore {\r\n  constructor (config, client, cache) {\r\n    this.config = config;\r\n    this.client = client;\r\n    this.cache = cache;\r\n  }\r\n\r\n  init () {\r\n    const stateBuilder = new StateBuilder(this.config);\r\n    const cachedState = this.cache.get('store');\r\n    this.linkedOptions = new LinkedOptions(this);\r\n\r\n    const sync = (state) => {\r\n      this.state = stateBuilder.createState(state);\r\n      this.linkedOptions.init(this.config.products.linkedOptions);\r\n    };\r\n\r\n    return new Promise(resolve => {\r\n      if (cachedState) {\r\n        sync(cachedState);\r\n        resolve();\r\n      } else {\r\n        this.client.fetch()\r\n          .then((results) => {\r\n            this.cache.set('store', results, this.config.cacheLifetime);\r\n            sync(results);\r\n            resolve();\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  getSelectedVariant (product) {\r\n    const variantName = product.options.map(option => this.state.selections[option.id]).join(' / ');\r\n    return product.variants.find(variant => variant.title === variantName);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/DataStore.js","import { Product } from './Product';\r\n\r\nexport class StateBuilder {\r\n  constructor (config) {\r\n    this.config = config;\r\n  }\r\n\r\n  createState (results) {\r\n    const state = DEFAULT_STORE;\r\n\r\n    Object.assign(state.collection, results.collection);\r\n    results.products.forEach((product, index) => {\r\n      const p = new Product(product);\r\n      state.products.push(p);\r\n      state.productsById[p.product_id] = p;\r\n\r\n      p.options.forEach((option) => {\r\n        state.optionsById[option.id] = option;\r\n        state.selections[option.id] = option.values[0];\r\n      });\r\n\r\n      state.variants = state.variants.concat(p.variants);\r\n    });\r\n\r\n    return state;\r\n  }\r\n}\r\n\r\nconst DEFAULT_STORE = {\r\n  collection: {\r\n    title: ''\r\n  },\r\n  products: [],\r\n  productsById: {},\r\n  optionsById: {},\r\n  variants: [],\r\n  selections: {},\r\n  quantity: 1\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/StateBuilder.js","const contains = (array, optionValue) => {\r\n  return array.find((value) => {\r\n    return value === optionValue;\r\n  });\r\n};\r\n\r\nexport class Product {\r\n  constructor(raw) {\r\n    const self = this;\r\n    // graft the raw data structure onto `this` object\r\n    Object.assign(self, raw);\r\n\r\n    // while the raw data contains an \"options\" object, that object doesn't actually contain the list of values available\r\n    // for itself. To get it, we need to iterate through the variants instead.\r\n    self.variants.forEach((variant) => {\r\n      variant.option_values.forEach((optionValue, index) => {\r\n        let values = raw.options[index].values;\r\n        optionValue = optionValue.value;\r\n        if (!values) {\r\n          values = raw.options[index].values = [];\r\n        }\r\n        if (!contains(values, optionValue)) {\r\n          values.push(optionValue);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/Product.js","/**\r\n * Tracks changes to options that should be linked together, e.g. the various length settings.\r\n */\r\nexport class LinkedOptions {\r\n  constructor (store) {\r\n    this.store = store;\r\n  }\r\n\r\n  init (linkedOptions) {\r\n    const products = this.store.state.products;\r\n    // A controller is an option that is the \"primary key\" for a particular settings. Any items bound to it will update\r\n    // when the controller selection changes.\r\n    const controllers = {};\r\n    // Servants, or slaves, will be updated when the controller's state changes.\r\n    let servants = [];\r\n\r\n    // Helper function to locate a product option by it's name (e.g. \"frame.length\"). Warns if either segment is not found.\r\n    const lookup = (link) => {\r\n      const [productName, optionName] = link.split('.');\r\n\r\n      const product = products.find(p => p.title === productName);\r\n      if (!product) {\r\n        console.warn(`Invalid linkedOptions setting '${link}'`);\r\n        return;\r\n      }\r\n\r\n      const option = product.options.find(o => o.name === optionName);\r\n      if (!option) {\r\n        console.warn(`Invalid linkedOptions setting '${link}'`);\r\n        return;\r\n      }\r\n\r\n      return option;\r\n    };\r\n\r\n    // Iterate through the linked option definitions and locate all controllers and servants.\r\n    Object.keys(linkedOptions).forEach(o => {\r\n      const option = lookup(o);\r\n      const slaves = linkedOptions[o].map(lo => lookup(lo)).filter(o => !!o);\r\n      servants = servants.concat(slaves.map(s => s.id));\r\n      controllers[option.id] = slaves;\r\n    });\r\n\r\n    this.controllers = controllers;\r\n    this.servants = servants;\r\n\r\n    // Sync all slaves initial values to their controller's initial value.\r\n    Object.keys(this.controllers).forEach(cId => this.sync(cId));\r\n  }\r\n\r\n  sync (optionId) {\r\n    if (this.controllers[optionId]) {\r\n      this.controllers[optionId].forEach(linkedOption => {\r\n        this.store.state.selections[linkedOption.id] = this.store.state.selections[optionId];\r\n      });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/LinkedOptions.js","import ShopifyBuy from 'shopify-buy';\n\nexport function ShopifyClient (config) {\n  const store = {};\n  const client = ShopifyBuy.buildClient(config.client);\n  let cart;\n\n  client.createCart().then(function (newCart) {\n    cart = newCart;\n  });\n\n  const isLoaded = () => {\n    return store.products && store.collection;\n  };\n\n  const cloneArray = array => {\n    return array.slice(0);\n  };\n\n  const sortProducts = () => {\n    if (!config.products.sortOrder) {\n      return;\n    }\n    const sortOrder = cloneArray(config.products.sortOrder);\n    const nonConfiguredProducts = cloneArray(config.products.sortOrder);\n    const unsortableProducts = [];\n\n    // Normalize casing\n    sortOrder.forEach((value, index) => {\n      sortOrder[index] = value.toLowerCase();\n      nonConfiguredProducts[index] = value.toLowerCase();\n    });\n\n    // `productComparer` is used to sort the product array using `Array.prototpe.sort()`. Since every product goes\n    // through this function we'll also use it to track unconfigured and unsortable products\n    const productComparer = (a, b) => {\n      // Normalize casing for each product title\n      const nameA = a.title.toLowerCase();\n      const nameB = b.title.toLowerCase();\n\n      // Get each item's index\n      let indexA = sortOrder.indexOf(nameA);\n      let indexB = sortOrder.indexOf(nameB);\n\n      // push unsortables to the end of the list\n      if (indexA === -1) {\n        indexA = sortOrder.length;\n\n        // track unsortables\n        if (!unsortableProducts.includes(nameA)) {\n          unsortableProducts.push(nameA);\n        }\n        // remove found items from unconfigured items list\n      } else if (nonConfiguredProducts.includes(nameA)) {\n        nonConfiguredProducts.splice(nonConfiguredProducts.indexOf(nameA), 1);\n      }\n\n      // for consistency, unsortables should have same index whether they're \"a\" or \"b\"\n      if (indexB === -1) {\n        indexB = sortOrder.length;\n        // track unsortables\n        if (!unsortableProducts.includes(nameB)) {\n          unsortableProducts.push(nameB);\n        }\n      }\n\n      // indicate the sort relationship to the caller\n      return indexA - indexB;\n    };\n\n    store.products.sort(productComparer);\n\n    if (nonConfiguredProducts.length) {\n      console.warn(`Could not sort \"${nonConfiguredProducts.join(',')}\" because they're not in the product list.`);\n    }\n    if (unsortableProducts.length) {\n      console.warn(`Could not sort \"${unsortableProducts.join(',')}\" because their order is not configured.`);\n    }\n  };\n\n  this.fetch = () => {\n    return new Promise((resolve, reject) => {\n      const maybeReturn = () => {\n        if (isLoaded()) {\n          resolve(store);\n        }\n      };\n\n      const unpackResponse = (response) => {\n        return response.map((item) => {\n          return item.attrs;\n        });\n      };\n\n      client.fetchCollection(config.collection.id)\n        .then(function (response) {\n          store.collection = unpackResponse([response])[0];\n          maybeReturn();\n        })\n        .catch(reject);\n\n      client.fetchQueryProducts({collection_id: config.collection.id})\n        .then(function (response) {\n          store.products = unpackResponse(response);\n          sortProducts();\n          maybeReturn();\n        })\n        .catch(reject);\n    });\n  };\n\n  this.addToCart = (variants, quantity) => {\n    const items = variants.map((variant) => {\n      return {variant, quantity};\n    });\n    return cart.addVariants.apply(cart, items);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/ShopifyClient.js","/**\n * What the heck is a dispatcher? It's an idea borrowed from the FLUX pattern. The flux pattern allows us to separate\n * state changes from the rest of the application. Since we know for sure that the UI is fluid I didn't want to store\n * state information in the UI, so it seemed like a good idea to build on for this project. Full-on flux seemed like\n * overkill since there's only a few actions we actually need.\n */\nexport class Dispatcher {\n  constructor (store, shopifyClient) {\n    this.store = store;\n    this.client = shopifyClient;\n  }\n\n  updateSelection (optionId, value) {\n    this.store.state.selections[optionId] = value;\n    this.store.linkedOptions.sync(optionId);\n  }\n\n  addToCart () {\n    const selections = this.store.state.products.map(product => this.store.getSelectedVariant(product));\n    return this.client.addToCart(selections, this.store.state.quantity)\n      .then(cart => {\n        if (window.parent !== window) {\n          window.parent.postMessage({\n            message: 'order-complete',\n            checkoutUrl: cart.checkoutUrl\n          }, '*');\n        } else {\n          window.location = cart.checkoutUrl;\n        }\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/Dispatcher.js","// Hoarked from https://github.com/neilstuartcraig/TDPBrowserCache.\r\n\r\nimport localStorageBackend from \"./localstorage-backend\";\r\nimport fallbackBackend from \"./in-memory-backend\";\r\n\r\nexport function Cache (options) {\r\n  // Default options\r\n  let backend = null;\r\n  let preferLocalStorage = true;\r\n  let keyNamespace = `__BC_`;\r\n\r\n  // Defaults for safety - these get overwritten during init()\r\n  let backendSetter = function () {\r\n    throw new Error(`ERROR: Backend setter not defined!`);\r\n  };\r\n  let backendGetter = function () {\r\n    throw new Error(`ERROR: Backend getter not defined!`);\r\n  };\r\n  let backendPurger = function () {\r\n    throw new Error(`ERROR: Backend purger not defined!`);\r\n  };\r\n\r\n  const init = function (options) {\r\n    options = typeof options === `object` ? options : {};\r\n\r\n    // Default option values\r\n    keyNamespace = options.keyNamespace !== undefined ? options.keyNamespace : keyNamespace;\r\n    preferLocalStorage = options.preferLocalStorage !== undefined ? options.preferLocalStorage : preferLocalStorage;\r\n\r\n    // Select the backend to use\r\n    if (preferLocalStorage && isLocalStorageSupported()) {\r\n      backend = localStorageBackend;\r\n    } else {\r\n      backend = fallbackBackend;\r\n    }\r\n\r\n    backendSetter = backend.setter;\r\n    backendGetter = backend.getter;\r\n    backendPurger = backend.purger;\r\n\r\n    return true;\r\n  };\r\n\r\n  const isLocalStorageSupported = () => {\r\n    try {\r\n      return `localStorage` in window && window[`localStorage`] !== null;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  this.set = (key, value, ttl) => {\r\n    // Find the type of the value...\r\n    const vt = typeof value;\r\n\r\n    // key and value are required...functions get stringified and thus broken so let's not allow their use as a value\r\n    if (key !== undefined && value !== undefined && vt !== `function`) {\r\n      // Add namespace to key\r\n      key = keyNamespace + key;\r\n\r\n      // Ignore ttl if it's not a number\r\n      ttl = (typeof ttl === `number` && ttl >= 0) ? ttl : 0;\r\n\r\n      const valueObject = JSON.stringify({\r\n        // We'll store a 0 for omitted TTLs because it takes up less storage space than a timestamp\r\n        e: ttl === 0 ? 0 : new Date().getTime() + ttl,\r\n        d: JSON.stringify(value)\r\n      });\r\n\r\n      // Also need to handle the failure states e.g. storage full\r\n\r\n      return backendSetter(key, valueObject);\r\n    } else {\r\n      // Bad request, key and value are required\r\n      return null;\r\n    }\r\n  };\r\n\r\n  this.get = (key) => {\r\n    if (typeof key === `string`) {\r\n      // Add namespace to key\r\n      key = keyNamespace + key;\r\n\r\n      const res = backendGetter(key);\r\n\r\n      if (res !== null) {\r\n        const v = JSON.parse(res);\r\n        // If the item has no ttl/expiration set or it's within its ttl then return it\r\n        if (v.e === 0 || v.e >= new Date().getTime()) {\r\n          return JSON.parse(v.d);\r\n        } else { // Else (Item has expired...)\r\n          // ...purge it from the backend\r\n          backendPurger(key);\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  this.purge = function (key) {\r\n    if (typeof key === `string`) {\r\n      // Add namespace to key\r\n      key = keyNamespace + key;\r\n\r\n      return backendPurger(key);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Run the initialiser\r\n  return init(options);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cache/index.js","const localStorage = window.localStorage;\r\n\r\nexport default {\r\n  setter: (key, valueObject) => {\r\n    return localStorage.setItem(key, valueObject);\r\n  },\r\n  getter: (key) => {\r\n    return localStorage.getItem(key);\r\n  },\r\n  purger: (key) => {\r\n    // removeItem handles incorrect types as the key (as far as tested so far) so let's keep this simple\r\n    return localStorage.removeItem(key);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cache/localstorage-backend.js","const storageObj = {};\r\n\r\nexport default {\r\n  setter: (key, valueObject) => {\r\n    storageObj[key] = valueObject;\r\n  },\r\n  getter: (key) => {\r\n    // We need to return null for non-existent keys\r\n    return storageObj[key] !== undefined ? storageObj[key] : null;\r\n  },\r\n  purger: (key) => {\r\n    delete storageObj[key];\r\n    return null;\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cache/in-memory-backend.js","export class UiStore {\n  constructor () {\n    this.state = {\n      visibleProductId: null\n    };\n  }\n\n  showProduct (product) {\n    if (this.state.visibleProductId === product.product_id) {\n      this.state.visibleProductId = null;\n    } else {\n      this.state.visibleProductId = product.product_id;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/UiStore.js"],"sourceRoot":""}