{"version":3,"sources":["webpack:///./src/services/cartUtil.js","webpack:///./src/stores/mutation-types.js","webpack:///./src/stores/modules/cart.js","webpack:///./src/services/util.js","webpack:///./src/stores/modules/products.js","webpack:///./src/stores/constraints.js","webpack:///./src/main.js","webpack:///./src/components/App.vue","webpack:///./src/components/App.vue?9eee","webpack:///App.vue","webpack:///./src/components/ProductListContainer.vue","webpack:///./src/components/ProductListContainer.vue?af96","webpack:///ProductListContainer.vue","webpack:///./src/components/ProductList.vue","webpack:///ProductList.vue","webpack:///./src/components/OptionList.vue","webpack:///./src/components/OptionList.vue?bdf3","webpack:///OptionList.vue","webpack:///./src/components/options/ListOption.vue","webpack:///./src/components/options/ListOption.vue?dfc7","webpack:///ListOption.vue","webpack:///./src/components/options/ListOption.vue?b40c","webpack:///./src/components/options/CheckboxOption.vue","webpack:///./src/components/options/CheckboxOption.vue?f066","webpack:///CheckboxOption.vue","webpack:///./src/components/options/CheckboxOption.vue?6449","webpack:///./src/components/options/TextBoxOption.vue","webpack:///./src/components/options/TextBoxOption.vue?f185","webpack:///TextBoxOption.vue","webpack:///./src/components/options/TextBoxOption.vue?2cd9","webpack:///./src/components/OptionList.vue?142b","webpack:///./src/components/ProductList.vue?e374","webpack:///./src/components/ProductListContainer.vue?56db","webpack:///./src/components/Cart.vue","webpack:///Cart.vue","webpack:///./src/components/Cart.vue?cb59","webpack:///./src/components/App.vue?e2dd","webpack:///./src/stores/store.js","webpack:///./src/stores/actions.js","webpack:///./src/stores/modules/configureProducts.js","webpack:///./src/stores/mutations.js","webpack:///./src/stores/getters.js","webpack:///./src/services/logger.js","webpack:///./src/services/CurrencyFilter.js","webpack:///./src/sample-config.js","webpack:///./src/services/ShopifyClient.js","webpack:///node-fetch (ignored)"],"names":["getFullProductTitle","product","title","parent","APPLY_CONSTRAINT","CONFIGURE_CONSTRAINTS","ADD_TO_CART","CHECKOUT_REQUEST","CHECKOUT_SUCCESS","CHECKOUT_FAILURE","RECEIVE_PRODUCTS","createCart","shopifyClient","state","added","checkoutStatus","getters","actions","checkout","products","commit","setTimeout","Math","random","mutations","item","lastCheckout","value","option","config","findCartItem","existing","values","push","setValue","savedCartItems","find","p","multiSelect","includes","splice","indexOf","length","addProduct","dispatch","enabledValues","getDefaultEnabledValues","options","console","warn","forEach","deepCopy","obj","cache","hit","c","original","copy","Array","isArray","key","list","f","filter","createProductStore","all","variations","allProducts","getAllProducts","retrieveProducts","productState","configureProducts","client","resolve","reject","localStorage","getItem","JSON","parse","getProducts","setItem","enabledOptions","o","enabled","val","default","selections","selection","constraints","configureConstraints","createConstraints","enforceConstraints","vuex","onchange","cleanupCart","cart","found","i","v","variation","map","createConstraint","bind","self","rule","peer","findPeer","when","source","targets","findTargets","shouldEnforce","createCheckFn","isActive","enforce","free","hasOwnProperty","is","in","greaterThan","split","needle","rest","join","enable","disable","Vue","productionTip","use","el","template","components","App","store","createStore","debug","Vuex","Store","modules","strict","plugins","createLogger","addToCart","lineItem","updateSyncdItems","syncItem","master","addDefaultItemsToCart","pConf","id","product_id","price","Number","variants","createOption","createVariant","vConf","cartProducts","DO_LOG","collapsed","mutation","stateBefore","stateAfter","transformer","mutationTransformer","mut","prevState","subscribe","nextState","time","Date","formattedTime","pad","getHours","getMinutes","getSeconds","getMilliseconds","formattedMutation","message","type","startMessage","groupCollapsed","group","call","e","log","groupEnd","repeat","str","times","num","maxLength","toString","digitsRE","CurrencyFilter","currency","decimals","parseFloat","isFinite","stringified","abs","toFixed","_int","slice","head","_float","sign","replace","Boolean","hidden","min","max","increment","productMap","set","shopify","accessToken","domain","appId","collection","ShopifyClient","ShopifyBuy","buildClient","isLoaded","err","error","maybeReturn","unpackResponse","response","attrs","fetchCollection","then","catch","fetchQueryProducts","collection_id"],"mappings":"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","file":"static/js/app.380bf5a59991c5978599.js","sourcesContent":["export function getFullProductTitle (product) {\r\n  let title = product.title;\r\n\r\n  while (product.parent) {\r\n    product = product.parent;\r\n    title = `${product.title}.${title}`;\r\n  }\r\n  return title;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cartUtil.js","export const APPLY_CONSTRAINT = 'APPLY_CONSTRAINT';\r\nexport const CONFIGURE_CONSTRAINTS = 'CONFIGURE_CONSTRAINTS';\r\n// export const CONFIGURE_OPTION = 'CONFIGURE_OPTION';\r\nexport const ADD_TO_CART = 'ADD_TO_CART';\r\nexport const CHECKOUT_REQUEST = 'CHECKOUT_REQUEST';\r\nexport const CHECKOUT_SUCCESS = 'CHECKOUT_SUCCESS';\r\nexport const CHECKOUT_FAILURE = 'CHECKOUT_FAILURE';\r\nexport const RECEIVE_PRODUCTS = 'RECEIVE_PRODUCTS';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/mutation-types.js","import * as types from '../mutation-types';\r\nimport { getFullProductTitle } from '../../services/cartUtil';\r\nimport { getDefaultEnabledValues } from './products';\r\n\r\nexport function createCart (shopifyClient) {\r\n  const state = {\r\n    added: [],\r\n    checkoutStatus: null\r\n  };\r\n\r\n  const getters = {\r\n    checkoutStatus: state => state.checkoutStatus\r\n  };\r\n\r\n  const actions = {\r\n    checkout ({commit, state}, products) {\r\n      commit(types.CHECKOUT_REQUEST);\r\n      setTimeout(function () {\r\n        commit(types.CHECKOUT_SUCCESS);\r\n      }, Math.random() * 1000);\r\n    }\r\n  };\r\n\r\n  const mutations = {\r\n    [types.ADD_TO_CART] (state, item) {\r\n      state.lastCheckout = null;\r\n\r\n      const value = item.option;\r\n      const config = item.product.config;\r\n\r\n      let {title, existing} = findCartItem(item.product, state);\r\n\r\n      if (!existing) {\r\n        existing = {\r\n          title,\r\n          values: []\r\n        };\r\n        state.added.push(existing);\r\n      }\r\n      setValue(existing, value, config);\r\n    },\r\n\r\n    [types.CHECKOUT_REQUEST] (state) {\r\n      // clear cart\r\n      state.added = {};\r\n      state.checkoutStatus = null;\r\n    },\r\n\r\n    [types.CHECKOUT_SUCCESS] (state) {\r\n      state.checkoutStatus = 'successful';\r\n    },\r\n\r\n    [types.CHECKOUT_FAILURE] (state, {savedCartItems}) {\r\n      // rollback to the cart saved before sending the request\r\n      state.added = savedCartItems;\r\n      state.checkoutStatus = 'failed';\r\n    }\r\n  };\r\n\r\n  return {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n  };\r\n}\r\n\r\nexport function findCartItem(product, state) {\r\n  const title = getFullProductTitle(product);\r\n  const existing = state.added.find(p => p.title === title);\r\n  return {title, existing};\r\n}\r\n\r\nexport function setValue(item, value, config) {\r\n  if (config.multiSelect) {\r\n    if (!item.values.includes(value)) {\r\n      item.values.push(value);\r\n    } else {\r\n      item.values.splice(item.values.indexOf(value), 1);\r\n    }\r\n  } else if (item.values.includes(value)) {\r\n    // Already added; do nothing.\r\n  } else if (item.values.length > 0) {\r\n    item.values.splice(0, 1, value);\r\n  } else {\r\n    item.values.push(value);\r\n  }\r\n}\r\n\r\nexport function addProduct (dispatch, product) {\r\n  const enabledValues = getDefaultEnabledValues(product);\r\n  if (enabledValues.length === 0 && product.options.length > 0) {\r\n    console.warn(`Could not set default value on product ${product.title}. The requested value does not exist.`);\r\n  } else {\r\n    enabledValues.forEach(setValue);\r\n  }\r\n\r\n  function setValue (option) {\r\n    dispatch('addToCart', {\r\n      product,\r\n      option\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/modules/cart.js","/**\r\n * Deep copy the given object considering circular structure.\r\n * This function caches all nested objects and its copies.\r\n * If it detects circular structure, use cached copy to avoid infinite loop.\r\n *\r\n * @param {*} obj\r\n * @param {Array<Object>} cache\r\n * @return {*}\r\n */\r\nexport function deepCopy (obj, cache = []) {\r\n  // just return if obj is immutable value\r\n  if (obj === null || typeof obj !== 'object') {\r\n    return obj;\r\n  }\r\n\r\n  // if obj is hit, it is in circular structure\r\n  const hit = find(cache, c => c.original === obj);\r\n  if (hit) {\r\n    return hit.copy;\r\n  }\r\n\r\n  const copy = Array.isArray(obj) ? [] : {};\r\n  // put the copy into cache at first\r\n  // because we want to refer it in recursive deepCopy\r\n  cache.push({\r\n    original: obj,\r\n    copy\r\n  });\r\n\r\n  Object.keys(obj).forEach(key => {\r\n    copy[key] = deepCopy(obj[key], cache);\r\n  });\r\n\r\n  return copy;\r\n}\r\n\r\n/**\r\n * Get the first item that pass the test\r\n * by second argument function\r\n *\r\n * @param {Array} list\r\n * @param {Function} f\r\n * @return {*}\r\n */\r\nfunction find (list, f) {\r\n  return list.filter(f)[0];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/util.js","import { configureProducts } from './configureProducts';\r\nimport * as types from '../mutation-types';\r\n\r\nexport function createProductStore (config, shopifyClient) {\r\n  const state = {\r\n    all: [], // This is really a product tree\r\n    variations: [], // This is really a flattened product list, mapped to product ({product, variation})\r\n    options: [] // This is a flattened list of all options, mapped to product ({product, option})\r\n    // TODO: The flattened hierarchies have artificial links to product which is not needed since both option and\r\n    // variation schemas include the parent product\r\n  };\r\n\r\n  const getters = {\r\n    allProducts: state => state.all\r\n    // TODO: This getter is probably useless\r\n  };\r\n\r\n  const actions = {\r\n    async getAllProducts ({commit, dispatch}) {\r\n      const products = await retrieveProducts(shopifyClient);\r\n      commit(types.RECEIVE_PRODUCTS, {products});\r\n      dispatch('configureConstraints', {productState: state});\r\n    }\r\n  };\r\n\r\n  const mutations = {\r\n    [types.RECEIVE_PRODUCTS] (state, {products}) {\r\n      const {options, variations, all} = configureProducts(config, products);\r\n      state.all = all;\r\n      state.variations = variations;\r\n      state.options = options;\r\n    }\r\n  };\r\n\r\n  return {\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n  };\r\n}\r\n\r\nfunction retrieveProducts (client) {\r\n  return new Promise((resolve, reject) => {\r\n    let products = localStorage.getItem('products');\r\n    if (products) {\r\n      return resolve(JSON.parse(products));\r\n    }\r\n    client.getProducts(({products}) => {\r\n      localStorage.setItem('products', JSON.stringify(products));\r\n      resolve(products);\r\n    });\r\n  });\r\n}\r\n\r\nexport function getDefaultEnabledValues (product) {\r\n  // if product has no options just return\r\n  if (product.options.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const enabledOptions = product.options.filter(o => o.enabled);\r\n\r\n  // If 1 or 0, are enabled, no need to keep hunting.\r\n  if (enabledOptions.length === 0) {\r\n    console.warn(`${product.title} has no options enabled.`);\r\n    return enabledOptions;\r\n  } else if (enabledOptions.length === 1) {\r\n    // Product only has one option enabled.\r\n    return enabledOptions;\r\n  }\r\n\r\n  // Otherwise, hunt away!\r\n  const val = product.config.default;\r\n\r\n  if (!val) {\r\n    // Product has no default; returning first available.\r\n    return [enabledOptions[0]];\r\n  }\r\n\r\n  if (Array.isArray(val)) {\r\n    const selections = enabledOptions.filter(o => val.includes(o.value));\r\n    if (selections.length > 0) {\r\n      // Found enabled default options for product; returning them.\r\n      return selections;\r\n    }\r\n  } else {\r\n    const selection = enabledOptions.find(o => o.value === val);\r\n    if (selection) {\r\n      // Found enabled default option for product returning it.\r\n      return [selection];\r\n    }\r\n  }\r\n\r\n  // All defaults are disabled for product returning first available.\r\n  return [enabledOptions[0]];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/modules/products.js","import { findCartItem, addProduct } from './modules/cart';\r\nimport * as types from './mutation-types';\r\n\r\nlet constraints = [];\r\n\r\nexport const actions = {\r\n  configureConstraints ({state}) {\r\n    constraints = createConstraints(state.products);\r\n  },\r\n\r\n  enforceConstraints (vuex, item) {\r\n    constraints.forEach(c => {\r\n      c.onchange(vuex, item);\r\n    });\r\n  },\r\n\r\n  cleanupCart ({state, dispatch}, option) {\r\n    if (option.enabled) {\r\n      console.warn('option is enabled; nothing changing. Should not be here');\r\n      return;\r\n    }\r\n    const {existing} = findCartItem(option.product, state.cart);\r\n    const found = existing && existing.values.find(i => i.value === option.value);\r\n    if (found) {\r\n      addProduct(dispatch, found.product);\r\n    }\r\n  }\r\n};\r\n\r\nexport const mutations = {\r\n  [types.APPLY_CONSTRAINT] (state, {option, enabled}) {\r\n    option.enabled = enabled;\r\n  }\r\n};\r\n\r\nfunction createConstraints ({all, variations, options}) {\r\n  const constraints = [];\r\n  variations\r\n    .forEach(v => {\r\n      if (v.variation.config.constraints) {\r\n        const c = v.variation.config.constraints.map(createConstraint.bind(null, v.variation, all));\r\n        constraints.push(...c);\r\n      }\r\n    });\r\n  return constraints;\r\n}\r\n\r\nfunction createConstraint (self, allProducts, rule) {\r\n  const peer = findPeer(allProducts, rule.when.source);\r\n  const targets = findTargets(self.options, rule);\r\n  const shouldEnforce = createCheckFn(rule.when);\r\n  let isActive = false;\r\n\r\n  function enforce ({commit, dispatch}) {\r\n    if (isActive) {\r\n      return;\r\n    }\r\n    targets.forEach(option => {\r\n      commit(types.APPLY_CONSTRAINT, {option, enabled: false});\r\n      dispatch('cleanupCart', option);\r\n    });\r\n    isActive = true;\r\n  }\r\n\r\n  function free ({commit, dispatch}) {\r\n    if (!isActive) {\r\n      return;\r\n    }\r\n    targets.forEach(option => {\r\n      commit(types.APPLY_CONSTRAINT, {option, enabled: true});\r\n      // not needed cos the constraint is removed, right? - dispatch('cleanupCart', option);\r\n    });\r\n    isActive = false;\r\n  }\r\n\r\n  return {\r\n    // BEGIN for debug only\r\n    // title: self.title,\r\n    // peer: peer.title,\r\n    // get isActive () {\r\n    //   return isActive;\r\n    // },\r\n    // END for debug only\r\n    onchange (vuex, {product, option}) {\r\n      if (product !== peer) {\r\n        return;\r\n      }\r\n      if (shouldEnforce(option)) {\r\n        enforce(vuex);\r\n      } else {\r\n        free(vuex);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction createCheckFn (rule) {\r\n  if (rule.hasOwnProperty('is')) {\r\n    return (option) => option.value === rule.is;\r\n  }\r\n\r\n  if (rule.hasOwnProperty('in')) {\r\n    return (option) => rule.in.includes(option.value);\r\n  }\r\n\r\n  if (rule.hasOwnProperty('greaterThan')) {\r\n    return (option) => option.value > rule.greaterThan;\r\n  }\r\n\r\n  console.warn(`could not create check function for \"${rule}\"`);\r\n}\r\n\r\nfunction findPeer (products, source) {\r\n  const [needle, ...rest] = source.split('.');\r\n  let product = products.find(p => p.title === needle);\r\n\r\n  if (!product || (rest.length && !product.variations)) {\r\n    console.warn(`Could not locate peer for \"${source}\"; possible misconfiguration`);\r\n  } else if (rest.length && product.variations) {\r\n    product = findPeer(product.variations, rest.join('.'));\r\n  }\r\n  return product;\r\n}\r\n\r\nfunction findTargets (options, rule) {\r\n  const values = rule.enable || rule.disable;\r\n  if (rule.enable) {\r\n    return options.filter(o => !values.includes(o.value));\r\n  } else {\r\n    return options.filter(o => values.includes(o.value));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/constraints.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport App from './components/App.vue';\r\nimport Vuex from 'vuex';\r\nimport { createStore } from './stores/store';\r\nimport { CurrencyFilter } from './services/CurrencyFilter';\r\nimport * as config from './sample-config';\r\nimport { ShopifyClient } from './services/ShopifyClient';\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(Vuex);\r\nVue.use(CurrencyFilter);\r\n\r\nconst client = new ShopifyClient(config.shopify);\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: {App},\r\n  store: createStore(config, client)\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-549db798\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-549db798\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 77\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-549db798\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/App.vue\n// module id = 78\n// module chunks = 1","<template>\r\n  <section class=\"section\">\r\n    <h1>Gun Builder Constraint Checker</h1>\r\n    <div id=\"app\" class=\"content\">\r\n      <h2>Select Options</h2>\r\n      <product-list-container></product-list-container>\r\n\r\n      <!--\r\n      don't think we need a cart.\r\n      <div class=\"column\">\r\n        <h2>Cart</h2>\r\n        <cart></cart>\r\n      </div>\r\n      -->\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n  @import '~bulma';\r\n\r\n  html {\r\n    font-size: 12px;\r\n  }\r\n\r\n  h1 {\r\n    @extend .title;\r\n    @extend .is-1;\r\n  }\r\n  h2 {\r\n    @extend .subtitle;\r\n    @extend .is-2;\r\n  }\r\n  h3 {\r\n    @extend .subtitle;\r\n    @extend .is-3;\r\n  }\r\n  h4 {\r\n    @extend .subtitle;\r\n    @extend .is-4;\r\n  }\r\n\r\n  body {\r\n    font-size: .8rem;\r\n  }\r\n\r\n  body li li {\r\n    margin-left: 10px;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  import ProductListContainer from './ProductListContainer.vue';\r\n  import Cart from './Cart.vue';\r\n\r\n  export default {\r\n    components: {\r\n      ProductListContainer,\r\n      Cart\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?a4930b66","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b8a9bed\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductListContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductListContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b8a9bed\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductListContainer.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b8a9bed\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProductListContainer.vue\n// module id = 81\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b8a9bed\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ProductListContainer.vue\n// module id = 82\n// module chunks = 1","<template>\r\n    <product-list :products=\"allProducts\" style=\"display: flex; flex-wrap: wrap;\"></product-list>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n<script>\r\n  import { mapGetters, mapActions } from 'vuex';\r\n  import ProductList from './ProductList.vue';\r\n\r\n  export default {\r\n    components: {\r\n      ProductList\r\n    },\r\n\r\n    computed: mapGetters([\r\n      'allProducts'\r\n    ]),\r\n\r\n    methods: mapActions([\r\n      'addToCart'\r\n    ]),\r\n\r\n    async created () {\r\n      await this.$store.dispatch('getAllProducts');\r\n      this.$store.dispatch('addDefaultItemsToCart');\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// ProductListContainer.vue?2435744a","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56176aa4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductList.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProductList.vue\n// module id = 99\n// module chunks = 1","<template>\r\n  <div v-if=\"isVisible()\">\r\n    <div class=\"content\" v-for=\"p in products\" style=\"display: flex;\">\r\n      <div v-if=\"hasChildren(p)\" class=\"box\">\r\n        <component :is=\"level\">\r\n          {{ p.title }} - {{ p.price | currency }}\r\n        </component>\r\n        <product-list :products=\"p.variations\"></product-list>\r\n      </div>\r\n\r\n      <div v-if=\"hasOptions(p)\" class=\"panel\">\r\n        <div class=\"panel-heading\">\r\n            {{ p.title }} - {{ p.price | currency }}\r\n        </div>\r\n        <div class=\"panel-block\">\r\n          <option-list :options=\"p.options\" :product=\"p\"></option-list>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import OptionList from './OptionList.vue';\r\n\r\n  export default {\r\n    name: 'product-list',\r\n\r\n    components: {\r\n      OptionList\r\n    },\r\n\r\n    props: {\r\n      products: Array\r\n    },\r\n\r\n    data () {\r\n      return {\r\n        level: getLevel(this.products[0])\r\n      };\r\n    },\r\n\r\n    methods: {\r\n      isVisible () {\r\n        return this.products.length > 0;\r\n      },\r\n      hasOptions(product) {\r\n        return product.options.length > 0;\r\n      },\r\n      hasChildren(product) {\r\n        return product.variations.length > 0;\r\n      }\r\n    }\r\n  };\r\n\r\n  function getLevel (product) {\r\n    let level = 2;\r\n    while (product) {\r\n      level++;\r\n      product = product.parent;\r\n    }\r\n    return `h${level}`;\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// ProductList.vue?313758ca","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-892760e8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OptionList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OptionList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-892760e8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./OptionList.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/OptionList.vue\n// module id = 101\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-892760e8\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/OptionList.vue\n// module id = 102\n// module chunks = 1","<template>\r\n  <component :is=\"componentType\" :options=\"options\" :product=\"product\"></component>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n\r\n<script>\r\n  import ListOption from './options/ListOption.vue';\r\n  import CheckboxOption from './options/CheckboxOption.vue';\r\n  import TextboxOption from './options/TextBoxOption.vue';\r\n\r\n  export default {\r\n    components: {\r\n      ListOption,\r\n      CheckboxOption,\r\n      TextboxOption\r\n    },\r\n\r\n    props: {\r\n      options: Array,\r\n      product: Object\r\n    },\r\n\r\n    computed: {\r\n      componentType () {\r\n        const valueType = this.product.config.type || String;\r\n        switch (valueType) {\r\n          case Boolean: {\r\n            return 'checkbox-option';\r\n          }\r\n          case 'textbox': {\r\n            return 'textbox-option';\r\n          }\r\n          default: {\r\n            return 'list-option';\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// OptionList.vue?5a3072fe","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a10961d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ListOption.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ListOption.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a10961d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ListOption.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a10961d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/options/ListOption.vue\n// module id = 104\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7a10961d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/options/ListOption.vue\n// module id = 105\n// module chunks = 1","<template>\r\n  <div class=\"content\" v-if=\"options.length > 0\">\r\n    <a v-for=\"option in options\" :disabled=\"!option.enabled\" class=\"button\" :class=\"{'is-success': selections.includes(option)}\" @click=\"addToCart({product, option})\">\r\n      {{option.value}}\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n  a {\r\n    margin-right: 5px;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  import { getFullProductTitle } from '../../services/cartUtil';\r\n  import { mapActions, mapGetters } from 'vuex';\r\n\r\n  export default {\r\n    props: {\r\n      options: Array,\r\n      product: Object\r\n    },\r\n    computed: {\r\n      ...mapGetters(['cart']),\r\n      selections () {\r\n        const title = getFullProductTitle(this.product);\r\n        const cartItem = this.cart.find(p => p.title === title);\r\n        return cartItem ? cartItem.values : [];\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'addToCart'\r\n      ])\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// ListOption.vue?59a716b2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.options.length > 0)?_c('div',{staticClass:\"content\"},_vm._l((_vm.options),function(option){return _c('a',{staticClass:\"button\",class:{'is-success': _vm.selections.includes(option)},attrs:{\"disabled\":!option.enabled},on:{\"click\":function($event){_vm.addToCart({product: _vm.product, option: option})}}},[_vm._v(\"\\n    \"+_vm._s(option.value)+\"\\n  \")])})):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a10961d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/options/ListOption.vue\n// module id = 111\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37b19e02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CheckboxOption.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckboxOption.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37b19e02\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CheckboxOption.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37b19e02\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/options/CheckboxOption.vue\n// module id = 112\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-37b19e02\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/options/CheckboxOption.vue\n// module id = 113\n// module chunks = 1","<template>\r\n  <a :disabled=\"isDisabled\" class=\"button\" :class=\"{'is-success': selectedOption.value}\" @click=\"toggleCart\">\r\n    {{product.title}}\r\n  </a>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import \"../variables\";\r\n  .selected {\r\n    background: $color-selected;\r\n  }\r\n  .disabled {\r\n    background: $color-disabled;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  import { getFullProductTitle } from '../../services/cartUtil';\r\n  import { mapActions, mapGetters } from 'vuex';\r\n\r\n  export default {\r\n    props: {\r\n      options: Array,\r\n      product: Object\r\n    },\r\n    computed: {\r\n      ...mapGetters(['cart']),\r\n      selectedOption () {\r\n        const title = getFullProductTitle(this.product);\r\n        const cartItem = this.cart.find(p => p.title === title);\r\n        return cartItem ? cartItem.values[0] : this.options[0];\r\n      },\r\n      isDisabled () {\r\n        return !!this.options.find(o => !o.enabled);\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'addToCart'\r\n      ]),\r\n      toggleCart () {\r\n        const option = this.options.find(o => o !== this.selectedOption);\r\n        this.addToCart({product: this.product, option});\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// CheckboxOption.vue?3e3f22c6","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"button\",class:{'is-success': _vm.selectedOption.value},attrs:{\"disabled\":_vm.isDisabled},on:{\"click\":_vm.toggleCart}},[_vm._v(\"\\n  \"+_vm._s(_vm.product.title)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37b19e02\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/options/CheckboxOption.vue\n// module id = 115\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-187114f9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextBoxOption.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextBoxOption.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-187114f9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextBoxOption.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-187114f9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/options/TextBoxOption.vue\n// module id = 116\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-187114f9\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/options/TextBoxOption.vue\n// module id = 117\n// module chunks = 1","<template>\r\n    <div>\r\n      <input type=\"text\">\r\n    </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      options: Array,\r\n      product: Object\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// TextBoxOption.vue?5d8df124","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{attrs:{\"type\":\"text\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-187114f9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/options/TextBoxOption.vue\n// module id = 119\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.componentType,{tag:\"component\",attrs:{\"options\":_vm.options,\"product\":_vm.product}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-892760e8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/OptionList.vue\n// module id = 120\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVisible())?_c('div',_vm._l((_vm.products),function(p){return _c('div',{staticClass:\"content\",staticStyle:{\"display\":\"flex\"}},[(_vm.hasChildren(p))?_c('div',{staticClass:\"box\"},[_c(_vm.level,{tag:\"component\"},[_vm._v(\"\\n        \"+_vm._s(p.title)+\" - \"+_vm._s(_vm._f(\"currency\")(p.price))+\"\\n      \")]),_vm._v(\" \"),_c('product-list',{attrs:{\"products\":p.variations}})],1):_vm._e(),_vm._v(\" \"),(_vm.hasOptions(p))?_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\"\\n          \"+_vm._s(p.title)+\" - \"+_vm._s(_vm._f(\"currency\")(p.price))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"panel-block\"},[_c('option-list',{attrs:{\"options\":p.options,\"product\":p}})],1)]):_vm._e()])})):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56176aa4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProductList.vue\n// module id = 121\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('product-list',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\"},attrs:{\"products\":_vm.allProducts}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b8a9bed\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProductListContainer.vue\n// module id = 122\n// module chunks = 1","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06fcf38e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Cart.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Cart.vue\n// module id = 123\n// module chunks = 1","<template>\r\n  <div class=\"cart\">\r\n    <p v-show=\"!products.length\"><i>Please add some products to cart.</i></p>\r\n    <ul>\r\n      <li v-for=\"p in products\">\r\n        {{ p.title }} - {{ p.price | currency }} x {{ p.quantity }}\r\n      </li>\r\n    </ul>\r\n    <p>Total: {{ total | currency }}</p>\r\n    <p><button :disabled=\"!products.length\" @click=\"checkout(products)\">Checkout</button></p>\r\n    <p v-show=\"checkoutStatus\">Checkout {{ checkoutStatus }}.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters } from 'vuex';\r\n  export default {\r\n    computed: {\r\n      ...mapGetters({\r\n        products: 'cartProducts',\r\n        checkoutStatus: 'checkoutStatus'\r\n      }),\r\n      total () {\r\n        return this.products.reduce((total, p) => {\r\n          return total + p.price * p.quantity;\r\n        }, 0);\r\n      }\r\n    },\r\n    methods: {\r\n      checkout (products) {\r\n        this.$store.dispatch('checkout', products);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// Cart.vue?05a86788","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.products.length),expression:\"!products.length\"}]},[_c('i',[_vm._v(\"Please add some products to cart.\")])]),_vm._v(\" \"),_c('ul',_vm._l((_vm.products),function(p){return _c('li',[_vm._v(\"\\n      \"+_vm._s(p.title)+\" - \"+_vm._s(_vm._f(\"currency\")(p.price))+\" x \"+_vm._s(p.quantity)+\"\\n    \")])})),_vm._v(\" \"),_c('p',[_vm._v(\"Total: \"+_vm._s(_vm._f(\"currency\")(_vm.total)))]),_vm._v(\" \"),_c('p',[_c('button',{attrs:{\"disabled\":!_vm.products.length},on:{\"click\":function($event){_vm.checkout(_vm.products)}}},[_vm._v(\"Checkout\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.checkoutStatus),expression:\"checkoutStatus\"}]},[_vm._v(\"Checkout \"+_vm._s(_vm.checkoutStatus)+\".\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06fcf38e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Cart.vue\n// module id = 125\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[_c('h1',[_vm._v(\"Gun Builder Constraint Checker\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\",attrs:{\"id\":\"app\"}},[_c('h2',[_vm._v(\"Select Options\")]),_vm._v(\" \"),_c('product-list-container')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-549db798\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 126\n// module chunks = 1","import Vuex from 'vuex';\r\nimport * as actions from './actions';\r\nimport * as mutations from './mutations';\r\nimport * as getters from './getters';\r\nimport {createProductStore} from './modules/products';\r\nimport {createCart} from './modules/cart';\r\nimport { createLogger } from '../services/logger';\r\n\r\nconst debug = process.env.NODE_ENV !== 'production';\r\n\r\nexport function createStore (config, shopifyClient) {\r\n  const products = createProductStore(config, shopifyClient);\r\n  const cart = createCart(shopifyClient);\r\n\r\n  return new Vuex.Store({\r\n    actions,\r\n    mutations,\r\n    getters,\r\n    modules: {\r\n      cart,\r\n      products\r\n    },\r\n    strict: debug,\r\n    plugins: debug ? [createLogger()] : []\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/store.js","import * as types from './mutation-types';\r\nimport { getFullProductTitle } from '../services/cartUtil';\r\nimport { addProduct } from './modules/cart';\r\n\r\nimport { actions } from './constraints';\r\n\r\nexport const configureConstraints = actions.configureConstraints;\r\nexport const enforceConstraints = actions.enforceConstraints;\r\nexport const cleanupCart = actions.cleanupCart;\r\n\r\nexport const addToCart = ({commit, dispatch, state}, item) => {\r\n  if (!item.option.enabled) {\r\n    return;\r\n  }\r\n\r\n  const title = getFullProductTitle(item.product);\r\n  const lineItem = state.cart.added.find(i => i.title === title);\r\n\r\n  if (item.product.config.multiSelect || !lineItem || !lineItem.values.includes(item.option)) {\r\n    commit(types.ADD_TO_CART, item);\r\n    dispatch('updateSyncdItems', {title, selection: item.option});\r\n    dispatch('enforceConstraints', item);\r\n  }\r\n};\r\n\r\nexport const updateSyncdItems = ({dispatch, state}, {title, selection}) => {\r\n  state.products.all.forEach(syncItem);\r\n\r\n  function syncItem (product) {\r\n    if (product.config.master === title) {\r\n      const option = product.options.find(o => o.value === selection.value);\r\n      dispatch('addToCart', {product, option});\r\n    }\r\n    product.variations.forEach(syncItem);\r\n  }\r\n};\r\n\r\nexport const addDefaultItemsToCart = ({dispatch, state}) => {\r\n  state.products.variations.forEach(item => {\r\n    addProduct(dispatch, item.variation);\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/actions.js","import { deepCopy } from '../../services/util';\r\n\r\nexport function configureProducts (config, products) {\r\n  const options = [];\r\n  const variations = [];\r\n  const all = config.products.map(pConf => {\r\n    const p = deepCopy(\r\n      products.find(p => p.title === pConf.title)\r\n    );\r\n\r\n    p.id = p.product_id;\r\n\r\n    p.config = deepCopy(pConf);\r\n\r\n    p.price = Number(p.variants[0].price);\r\n\r\n    p.options = (p.config.options || []).map(createOption.bind(null, p));\r\n\r\n    p.variations = (p.config.variations || []).map(createVariant.bind(null, options, variations, p));\r\n\r\n    if (p.options.length) {\r\n      options.push(...p.options.map(o => ({product: p, option: o})));\r\n    }\r\n\r\n    if (p.variations.length) {\r\n      variations.push(...p.variations.map(v => ({product: p, variation: v})));\r\n    }\r\n\r\n    // All products are variations. Or is it vice versa? Or both?\r\n    variations.push({product: null, variation: p});\r\n\r\n    return p;\r\n  });\r\n\r\n  return {options, variations, all};\r\n}\r\n\r\nconst createOption = (p, v) => ({product: p, value: v, enabled: true});\r\n\r\nconst createVariant = (options, variations, product, vConf) => {\r\n  const p = {};\r\n\r\n  p.parent = product;\r\n\r\n  p.title = vConf.title;\r\n\r\n  p.config = vConf;\r\n\r\n  p.options = (p.config.options || []).map(createOption.bind(null, p));\r\n\r\n  p.variations = (p.config.variations || []).map(createVariant.bind(null, options, variations, p));\r\n\r\n  if (p.options.length) {\r\n    options.push(...p.options.map(o => ({product: p, option: o})));\r\n  }\r\n\r\n  if (p.variations.length) {\r\n    variations.push(...p.variations.map(v => ({product: p, variation: v})));\r\n  }\r\n\r\n  return p;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/modules/configureProducts.js","import { mutations } from './constraints';\r\n\r\nexport const APPLY_CONSTRAINT = mutations.APPLY_CONSTRAINT;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/mutations.js","export const cartProducts = state => {\r\n  return state.cart.added.map((item) => {\r\n    return {\r\n    };\r\n  });\r\n};\r\n\r\nexport const cart = state => {\r\n  return state.cart.added;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/getters.js","// Credits: borrowed code from fcomb/redux-logger\r\n\r\nimport { deepCopy } from './util';\r\n\r\nlet DO_LOG = false;\r\n\r\nexport function createLogger ({\r\n  collapsed = true,\r\n  filter = (mutation, stateBefore, stateAfter) => true,\r\n  transformer = state => state,\r\n  mutationTransformer = mut => mut\r\n} = {}) {\r\n  if (!DO_LOG) {\r\n    return () => {};\r\n  }\r\n\r\n  return store => {\r\n    let prevState = deepCopy(store.state);\r\n\r\n    store.subscribe((mutation, state) => {\r\n      if (typeof console === 'undefined') {\r\n        return;\r\n      }\r\n      const nextState = deepCopy(state);\r\n\r\n      if (filter(mutation, prevState, nextState)) {\r\n        const time = new Date();\r\n        const formattedTime = ` @ ${pad(time.getHours(), 2)}:${pad(time.getMinutes(), 2)}:${pad(time.getSeconds(), 2)}.${pad(time.getMilliseconds(), 3)}`;\r\n        const formattedMutation = mutationTransformer(mutation);\r\n        const message = `mutation ${mutation.type}${formattedTime}`;\r\n        const startMessage = collapsed\r\n          ? console.groupCollapsed\r\n          : console.group;\r\n\r\n        // render\r\n        try {\r\n          startMessage.call(console, message);\r\n        } catch (e) {\r\n          console.log(message);\r\n        }\r\n\r\n        console.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));\r\n        console.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);\r\n        console.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));\r\n\r\n        try {\r\n          console.groupEnd();\r\n        } catch (e) {\r\n          console.log('—— log end ——');\r\n        }\r\n      }\r\n\r\n      prevState = nextState;\r\n    });\r\n  };\r\n}\r\n\r\nfunction repeat (str, times) {\r\n  return (new Array(times + 1)).join(str);\r\n}\r\n\r\nfunction pad (num, maxLength) {\r\n  return repeat('0', maxLength - num.toString().length) + num;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/logger.js","const digitsRE = /(\\d{3})(?=\\d)/g;\r\n\r\nexport class CurrencyFilter {\r\n  static install (Vue) {\r\n    Vue.filter('currency', currency);\r\n  }\r\n}\r\n\r\nfunction currency (value, currency, decimals) {\r\n  value = parseFloat(value);\r\n  if (!isFinite(value) || (!value && value !== 0)) return '';\r\n  currency = currency != null ? currency : '$';\r\n  decimals = decimals != null ? decimals : 2;\r\n  const stringified = Math.abs(value).toFixed(decimals);\r\n  const _int = decimals\r\n    ? stringified.slice(0, -1 - decimals)\r\n    : stringified;\r\n  const i = _int.length % 3;\r\n  const head = i > 0\r\n    ? (_int.slice(0, i) + (_int.length > 3 ? ',' : ''))\r\n    : '';\r\n  const _float = decimals\r\n    ? stringified.slice(-1 - decimals)\r\n    : '';\r\n  const sign = value < 0 ? '-' : '';\r\n  return sign + currency + head +\r\n    _int.slice(i).replace(digitsRE, '$1,') +\r\n    _float;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/CurrencyFilter.js","export const products = [\r\n  {\r\n    title: 'Caliber',\r\n    options: ['9mm', '.38 SC', '.40', '10mm', '.45'],\r\n    default: '.40'\r\n  },\r\n  {\r\n    title: 'Top End Options',\r\n    variations: [\r\n      {\r\n        title: 'Compensated',\r\n        type: Boolean,\r\n        options: [true, false],\r\n        default: true\r\n      },\r\n      {\r\n        title: 'Barrel Configuration',\r\n        options: ['Standard', '3/4\" Tungsten Sleeve', '3/4\" Bull Barrel', 'Bushing', 'Sightblock'],\r\n        default: '3/4\" Tungsten Sleeve',\r\n        constraints: [\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Compensated',\r\n              is: true\r\n            },\r\n            disable: ['Bushing', 'Sightblock']\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        title: 'Length',\r\n        type: Number,\r\n        options: [4.25, 4.5, 5, 5.4, 6],\r\n        default: 4.5,\r\n        constraints: [\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Compensated',\r\n              is: true\r\n            },\r\n            enable: [4.5, 5]\r\n          },\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Compensated',\r\n              is: false\r\n            },\r\n            disable: [4.5]\r\n          },\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Barrel Configuration',\r\n              is: 'Bushing'\r\n            },\r\n            enable: [4.25, 5, 6]\r\n          },\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Barrel Configuration',\r\n              is: 'Sightblock'\r\n            },\r\n            enable: [5, 5.4, 6]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        title: 'w/ Popple Holes',\r\n        type: Boolean,\r\n        options: [true, false],\r\n        default: true,\r\n        constraints: [\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Compensated',\r\n              is: false\r\n            },\r\n            disable: [true]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Performance Options',\r\n    multiSelect: true,\r\n    options: ['Stroked', 'Front Internal Lightening', 'Rear Internal Lightening'],\r\n    default: ['Stroked', 'Rear Internal Lightening'],\r\n    constraints: [\r\n      {\r\n        when: {\r\n          source: 'Top End Options.Barrel Configuration',\r\n          in: ['3/4\" Tungsten Sleeve', '3/4\" Bull Barrel']\r\n        },\r\n        disable: ['Front Internal Lightening']\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Slide Options',\r\n    variations: [\r\n      {\r\n        title: 'Slide Length',\r\n        hidden: true,\r\n        options: [4.25, 4.5, 5, 5.4, 6],\r\n        master: 'Top End Options.Length'\r\n      },\r\n      {\r\n        title: 'Top',\r\n        options: ['Top', 'Flat Top', 'Tri-Top', 'Partial Tri-Top', 'Round', 'Signature'],\r\n        default: 'Signature'\r\n      },\r\n      {\r\n        title: 'Serrations',\r\n        options: ['4 LPI', '8 LPI', 'Signature'],\r\n        default: 'Signature'\r\n      },\r\n      {\r\n        title: 'Panel Cuts',\r\n        type: Boolean,\r\n        options: [true, false],\r\n        default: true\r\n      },\r\n      {\r\n        title: 'Front Serrations',\r\n        options: ['Standard', 'Reverse High Power', 'Butler', 'High Power', '4 LPI', '8 LPI', 'Signature'],\r\n        default: 'Signature'\r\n      },\r\n      {\r\n        title: 'Material',\r\n        options: ['Stainless', 'Carbon Steel'],\r\n        default: 'Carbon Steel'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Frame Options',\r\n    variations: [\r\n      {\r\n        title: 'Configuration',\r\n        options: ['Long Wide', 'Heavy Long Wide', 'Tactical'],\r\n        default: 'Heavy Long Wide'\r\n      },\r\n      {\r\n        title: 'Length',\r\n        options: ['Butler', 'Full', 'Standard'],\r\n        default: 'Full',\r\n        constraints: [\r\n          {\r\n            when: {\r\n              source: 'Top End Options.Length',\r\n              greaterThan: 5\r\n            },\r\n            disable: ['Full']\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        title: 'Material',\r\n        options: ['Steel', 'Stainless', 'Aluminum'],\r\n        default: 'Steel'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Grip Options',\r\n    variations: [\r\n      {\r\n        title: 'Material',\r\n        options: ['Steel', 'Stainless', 'Aluminum', 'Polymer'],\r\n        default: 'Steel'\r\n      },\r\n      {\r\n        title: 'Length',\r\n        options: ['Full-Size', 'Compact'],\r\n        default: 'Full-Size',\r\n        // I'm not entirely sure how to interpret the magwell/grip length constraints Is it basically, \"when length\r\n        // is full-size, disable compact, and when it's compact, disable full-size?\"\r\n        constraints: [\r\n          {\r\n            when: {\r\n              source: 'Magwell',\r\n              in: ['Compact', 'None']\r\n            },\r\n            disable: ['Full-Size']\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        title: 'Grip Texture',\r\n        options: ['WarDrum Medium', 'WarDrum Velvet', 'Signature Aggressive', 'Signature Blank', 'Signature Medium'],\r\n        default: 'Signature Blank'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Magwell',\r\n    options: ['Competition', 'Compact', 'None'],\r\n    default: 'Competition'\r\n  },\r\n  {\r\n    title: 'Thumb Safety',\r\n    variations: [\r\n      {\r\n        title: 'Paddle',\r\n        type: Array,\r\n        variations: [\r\n          {\r\n            title: 'Ambi',\r\n            type: Boolean,\r\n            options: [true, false],\r\n            default: true\r\n          },\r\n          {\r\n            title: 'Shield',\r\n            type: Boolean,\r\n            options: [true, false],\r\n            default: true\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        title: 'Width',\r\n        options: ['Wide', 'Extra Wide'],\r\n        default: 'Extra Wide'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Sights',\r\n    options: ['Tritium Novak', 'Adjustable Bomar w/ Fiber Front', 'RTS2', 'RMR w/ Tritium'],\r\n    default: 'Adjustable Bomar w/ Fiber Front'\r\n  },\r\n  {\r\n    title: 'Slide Racker',\r\n    type: Boolean,\r\n    options: [true, false],\r\n    default: false\r\n  },\r\n  {\r\n    title: 'Gas Pedal',\r\n    type: Boolean,\r\n    options: [true, false],\r\n    default: false\r\n  },\r\n  {\r\n    title: 'Guide Rod',\r\n    options: ['FLGR', 'GI', 'Tungsten FLGR'],\r\n    default: 'FLGR'\r\n  },\r\n  {\r\n    title: 'Trigger',\r\n    variations: [\r\n      {\r\n        title: 'Length',\r\n        options: ['Standard', 'Long', 'Short'],\r\n        default: 'Standard'\r\n      },\r\n      {\r\n        title: 'Shape',\r\n        options: ['Flat', 'Curved'],\r\n        default: 'Flat'\r\n      },\r\n      {\r\n        title: 'Weight',\r\n        type: 'range',\r\n        min: 2.0,\r\n        max: 4.75,\r\n        increment: 0.25,\r\n        default: 2.75\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    title: 'Grip Safety Pinned',\r\n    type: Boolean,\r\n    options: [true, false],\r\n    default: false\r\n  },\r\n  {\r\n    title: 'Custom Serial',\r\n    type: 'textbox'\r\n  }\r\n];\r\n\r\nexport const productMap = new Map();\r\nproducts.forEach(item => productMap.set(item.title, item));\r\n\r\nexport const shopify = {\r\n  client: {\r\n    accessToken: 'cccc9170b9d1911d095a199a51df92d4',\r\n    domain: 'rails-test-42.myshopify.com',\r\n    appId: '6'\r\n  },\r\n  collection: {\r\n    id: 442402061\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sample-config.js","import { deepCopy } from './util';\r\nimport ShopifyBuy from 'shopify-buy';\r\n\r\nexport function ShopifyClient (config) {\r\n  let products, collection;\r\n  const client = ShopifyBuy.buildClient(config.client);\r\n\r\n  const isLoaded = () => {\r\n    return products && collection;\r\n  };\r\n\r\n  // TODO: Return a promise\r\n  this.getProducts = (resolve) => {\r\n    const reject = (err) => {\r\n      console.error('error loading product', err);\r\n    };\r\n    // return new Promise((resolve, reject) => {\r\n    const maybeReturn = () => {\r\n      if (isLoaded()) {\r\n        resolve({\r\n          collection,\r\n          products\r\n        });\r\n      }\r\n    };\r\n\r\n    // The Shopify Client wraps the raw response in a class, which we just toss. The raw props are on an \"attrs\" object\r\n    // so we copy those and treat them as the raw data.\r\n    const unpackResponse = (response) => {\r\n      return response.map((item) => {\r\n        return deepCopy(item.attrs);\r\n      });\r\n    };\r\n\r\n    client.fetchCollection(config.collection.id)\r\n      .then(function (response) {\r\n        collection = unpackResponse([response])[0];\r\n        maybeReturn();\r\n      })\r\n      .catch(reject);\r\n\r\n    client.fetchQueryProducts({collection_id: config.collection.id})\r\n      .then(function (response) {\r\n        products = unpackResponse(response);\r\n        maybeReturn();\r\n      })\r\n      .catch(reject);\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/ShopifyClient.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// node-fetch (ignored)\n// module id = 178\n// module chunks = 1"],"sourceRoot":""}