var bagb=webpackJsonpbagb([1],{167:function(t,n,e){"use strict";function r(t,n){var e=new s.d(n),r=new s.a,i=new s.b(n,e,r),u=new s.e,a=new s.c(i,e);i.init().then(function(){o.a.config.productionTip=!1,o.a.use({install:function(t,n){t.prototype.$dispatcher=a,t.prototype.$getSelectedVariant=i.getSelectedVariant.bind(i),t.prototype.$store=i,t.prototype.$uiStore=u}}),new o.a({el:t,template:'<App :store="store"></App>',components:{App:c.a},data:{store:i}})})}Object.defineProperty(n,"__esModule",{value:!0}),n.build=r;var i=e(168),o=e.n(i),c=e(169),s=e(201),u=e(272);e.n(u)},169:function(t,n,e){"use strict";function r(t){e(170)}var i=e(172),o=e(200),c=e(31),s=r,u=c(i.a,o.a,s,"data-v-535f74d5",null);n.a=u.exports},170:function(t,n){},172:function(t,n,e){"use strict";var r=e(173),i=e(185),o=e(188),c=e(192);n.a={name:"app",props:{store:{type:Object,required:!0}},components:{ProductList:r.a,BuyButton:i.a,CollectionPrice:o.a,Viewer:c.a},data:function(){return{collection:this.store.state.collection,products:this.store.state.products}}}},173:function(t,n,e){"use strict";function r(t){e(174)}var i=e(175),o=e(184),c=e(31),s=r,u=c(i.a,o.a,s,"data-v-a2a5405c",null);n.a=u.exports},174:function(t,n){},175:function(t,n,e){"use strict";var r=e(176);n.a={components:{Product:r.a},props:{products:Array}}},176:function(t,n,e){"use strict";function r(t){e(177)}var i=e(178),o=e(183),c=e(31),s=r,u=c(i.a,o.a,s,"data-v-04e8f0c9",null);n.a=u.exports},177:function(t,n){},178:function(t,n,e){"use strict";var r=e(179);n.a={components:{ProductOptions:r.a},props:{product:Object},data:function(){return{showOptions:!1,uiState:this.$uiStore.state}},computed:{hasAvailableOptions:function(){return!(1===this.product.variants.length&&1===this.product.variants[0].option_values.length)},optionsAreVisible:function(){return this.hasAvailableOptions&&this.uiState.visibleProductId===this.product.product_id},unlinkedOptions:function(){var t=this;return this.product.options.filter(function(n){return-1===t.$store.linkedOptions.servants.indexOf(n.id)})}},methods:{showThisProduct:function(){this.$uiStore.showProduct(this.product)}}}},179:function(t,n,e){"use strict";function r(t){e(180)}var i=e(181),o=e(182),c=e(31),s=r,u=c(i.a,o.a,s,"data-v-4ca4491a",null);n.a=u.exports},180:function(t,n){},181:function(t,n,e){"use strict";n.a={props:{option:Object,hideHeader:Boolean},computed:{selectedValue:{get:function(){return this.$store.state.selections[this.option.id]}}},methods:{select:function(t){this.$dispatcher.updateSelection(this.option.id,t)}}}},182:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.hideHeader?t._e():e("h3",[t._v(t._s(t.option.name))]),t._v(" "),e("ul",t._l(t.option.values,function(n){return e("li",{key:n,class:{active:t.selectedValue===n},on:{click:function(e){t.select(n)}}},[t._v("\n      "+t._s(n)+"\n    ")])}))])},i=[],o={render:r,staticRenderFns:i};n.a=o},183:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",{class:{"has-options":t.hasAvailableOptions},on:{click:t.showThisProduct}},[t._v("\n  "+t._s(t.product.title)+"\n  "),t.optionsAreVisible?e("div",{on:{click:function(t){t.stopPropagation()}}},t._l(t.unlinkedOptions,function(n){return e("product-options",{key:n.id,attrs:{option:n,"hide-header":1===t.unlinkedOptions.length}})})):t._e()])},i=[],o={render:r,staticRenderFns:i};n.a=o},184:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",t._l(t.products,function(t){return e("product",{key:t.product_id,attrs:{product:t}})}))},i=[],o={render:r,staticRenderFns:i};n.a=o},185:function(t,n,e){"use strict";var r=e(186),i=e(187),o=e(31),c=o(r.a,i.a,null,null,null);n.a=c.exports},186:function(t,n,e){"use strict";n.a={props:{store:Object},data:function(){return{isBuying:!1}},methods:{handleClick:function(){this.isBuying=!0,this.store.addToCart()}}}},187:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[e("button",{staticClass:"btn",attrs:{disabled:t.isBuying},on:{click:function(n){t.handleClick()}}},[t._v("Take my money!")])])},i=[],o={render:r,staticRenderFns:i};n.a=o},188:function(t,n,e){"use strict";function r(t){e(189)}var i=e(190),o=e(191),c=e(31),s=r,u=c(i.a,o.a,s,"data-v-e0f0adf2",null);n.a=u.exports},189:function(t,n){},190:function(t,n,e){"use strict";n.a={props:{store:Object},computed:{totalPrice:function(){var t=this;try{return"$ "+this.store.state.products.map(function(n){return t.$getSelectedVariant(n).price}).reduce(function(t,n){return t+Number(n)},0).toFixed(2)}catch(t){return"Invalid options selected"}}}}},191:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",{staticClass:"price-wrapper"},[e("span",{staticClass:"price-label"},[t._v("Total cost:")]),t._v(" "),e("span",{staticClass:"price-value"},[t._v(t._s(t.totalPrice))])])},i=[],o={render:r,staticRenderFns:i};n.a=o},192:function(t,n,e){"use strict";function r(t){e(193)}var i=e(194),o=e(199),c=e(31),s=r,u=c(i.a,o.a,s,"data-v-7786c45c",null);n.a=u.exports},193:function(t,n){},194:function(t,n,e){"use strict";var r=e(195);n.a={components:{ProductImage:r.a},props:{products:Array}}},195:function(t,n,e){"use strict";function r(t){e(196)}var i=e(197),o=e(198),c=e(31),s=r,u=c(i.a,o.a,s,null,null);n.a=u.exports},196:function(t,n){},197:function(t,n,e){"use strict";n.a={props:{product:Object},computed:{selectedVariantImage:function(){if(!this.product.images||0===this.product.images.length)return null;if(1===this.product.variants.length&&1===this.product.variants[0].option_values.length)return this.product.images[0].src;var t=this.$getSelectedVariant(this.product);if(!t)return this.product.images[0].src;var n=t.id,e=this.product.images.find(function(t){return t.variant_ids.find(function(t){return t===n})});return e?e.src:null}}}},198:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",{staticClass:"pi"},[e("img",{attrs:{src:t.selectedVariantImage}})])},i=[],o={render:r,staticRenderFns:i};n.a=o},199:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},t._l(t.products,function(t){return e("product-image",{key:t.product_id,attrs:{product:t}})}))},i=[],o={render:r,staticRenderFns:i};n.a=o},200:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"grid-uniform grid-link__container"},[e("product-list",{staticClass:"grid__item large--one-fifth medium-down--one-half",attrs:{products:t.products}}),t._v(" "),e("viewer",{staticClass:"grid__item large--four-fifths medium-down--one-half",attrs:{products:t.products}})],1),t._v(" "),e("div",[e("collection-price",{attrs:{store:t.store}}),t._v(" "),e("buy-button",{attrs:{store:t.store}})],1)])},i=[],o={render:r,staticRenderFns:i};n.a=o},201:function(t,n,e){"use strict";var r=e(202);e.d(n,"b",function(){return r.a});var i=e(244);e.d(n,"d",function(){return i.a});var o=e(251);e.d(n,"c",function(){return o.a});var c=e(252);e.d(n,"a",function(){return c.a});var s=e(271);e.d(n,"e",function(){return s.a})},202:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var r=e(125),i=e.n(r),o=e(54),c=e.n(o),s=e(63),u=e.n(s),a=e(227),d=e(232),l=function(){function t(n,e,r){c()(this,t),this.config=n,this.client=e,this.cache=r}return u()(t,[{key:"init",value:function(){var t=this,n=new a.a(this.config),e=this.cache.get("store");this.linkedOptions=new d.a(this);var r=function(e){t.state=n.createState(e),t.linkedOptions.init(t.config.products.linkedOptions)};return new i.a(function(n){e?(r(e),n()):t.client.fetch().then(function(e){t.cache.set("store",e,t.config.cacheLifetime),r(e),n()})})}},{key:"getSelectedVariant",value:function(t){var n=this,e=t.options.map(function(t){return n.state.selections[t.id]}).join(" / ");return t.variants.find(function(t){return t.title===e})}}]),t}()},227:function(t,n,e){"use strict";e.d(n,"a",function(){return d});var r=e(137),i=e.n(r),o=e(54),c=e.n(o),s=e(63),u=e.n(s),a=e(231),d=function(){function t(n){c()(this,t),this.config=n}return u()(t,[{key:"createState",value:function(t){var n=l;return i()(n.collection,t.collection),t.products.forEach(function(t,e){var r=new a.a(t);n.products.push(r),n.productsById[r.product_id]=r,r.options.forEach(function(t){n.optionsById[t.id]=t,n.selections[t.id]=t.values[0]}),n.variants=n.variants.concat(r.variants)}),n}}]),t}(),l={collection:{title:""},products:[],productsById:{},optionsById:{},variants:[],selections:{},quantity:1}},231:function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(137),i=e.n(r),o=e(54),c=e.n(o),s=function(t,n){return t.find(function(t){return t===n})},u=function t(n){c()(this,t);var e=this;i()(e,n),e.variants.forEach(function(t){t.option_values.forEach(function(t,e){var r=n.options[e].values;t=t.value,r||(r=n.options[e].values=[]),s(r,t)||r.push(t)})})}},232:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var r=e(233),i=e.n(r),o=e(237),c=e.n(o),s=e(54),u=e.n(s),a=e(63),d=e.n(a),l=function(){function t(n){u()(this,t),this.store=n}return d()(t,[{key:"init",value:function(t){var n=this,e=this.store.state.products,r={},o=[],s=function(t){var n=t.split("."),r=c()(n,2),i=r[0],o=r[1],s=e.find(function(t){return t.title===i});if(!s)return void console.warn("Invalid linkedOptions setting '"+t+"'");var u=s.options.find(function(t){return t.name===o});return u||void console.warn("Invalid linkedOptions setting '"+t+"'")};i()(t).forEach(function(n){var e=s(n),i=t[n].map(function(t){return s(t)}).filter(function(t){return!!t});o=o.concat(i.map(function(t){return t.id})),r[e.id]=i}),this.controllers=r,this.servants=o,i()(this.controllers).forEach(function(t){return n.sync(t)})}},{key:"sync",value:function(t){var n=this;this.controllers[t]&&this.controllers[t].forEach(function(e){n.store.state.selections[e.id]=n.store.state.selections[t]})}}]),t}()},244:function(t,n,e){"use strict";function r(t){var n={},e=s.a.buildClient(t.client),r=void 0;e.createCart().then(function(t){r=t});var i=function(){return n.products&&n.collection},c=function(t){return t.slice(0)},u=function(){if(t.products.sortOrder){var e=c(t.products.sortOrder),r=c(t.products.sortOrder),i=[];e.forEach(function(t,n){e[n]=t.toLowerCase(),r[n]=t.toLowerCase()});var o=function(t,n){var o=t.title.toLowerCase(),c=n.title.toLowerCase(),s=e.indexOf(o),u=e.indexOf(c);return-1===s?(s=e.length,i.includes(o)||i.push(o)):r.includes(o)&&r.splice(r.indexOf(o),1),-1===u&&(u=e.length,i.includes(c)||i.push(c)),s-u};n.products.sort(o),r.length&&console.warn('Could not sort "'+r.join(",")+"\" because they're not in the product list."),i.length&&console.warn('Could not sort "'+i.join(",")+'" because their order is not configured.')}};this.fetch=function(){return new o.a(function(r,o){var c=function(){i()&&r(n)},s=function(t){return t.map(function(t){return t.attrs})};e.fetchCollection(t.collection.id).then(function(t){n.collection=s([t])[0],c()}).catch(o),e.fetchQueryProducts({collection_id:t.collection.id}).then(function(t){n.products=s(t),u(),c()}).catch(o)})},this.addToCart=function(t,n){var e=t.map(function(t){return{variant:t,quantity:n}});return r.addVariants.apply(r,e)}}n.a=r;var i=e(125),o=e.n(i),c=e(245),s=e.n(c)},250:function(t,n){},251:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var r=e(54),i=e.n(r),o=e(63),c=e.n(o),s=function(){function t(n,e){i()(this,t),this.store=n,this.client=e}return c()(t,[{key:"updateSelection",value:function(t,n){this.store.state.selections[t]=n,this.store.linkedOptions.sync(t)}},{key:"addToCart",value:function(){var t=this,n=this.store.state.products.map(function(n){return t.store.getSelectedVariant(n)});return this.client.addToCart(n,this.store.state.quantity).then(function(t){window.parent!==window?window.parent.postMessage({message:"order-complete",checkoutUrl:t.checkoutUrl},"*"):window.location=t.checkoutUrl})}}]),t}()},252:function(t,n,e){"use strict";function r(t){var n=null,e=!0,r="__BC_",i=function(){throw new Error("ERROR: Backend setter not defined!")},c=function(){throw new Error("ERROR: Backend getter not defined!")},d=function(){throw new Error("ERROR: Backend purger not defined!")},l=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}};return this.set=function(t,n,e){var c=void 0===n?"undefined":s()(n);if(void 0!==t&&void 0!==n&&"function"!==c){t=r+t,e="number"==typeof e&&e>=0?e:0;var u=o()({e:0===e?0:(new Date).getTime()+e,d:o()(n)});return i(t,u)}return null},this.get=function(t){if("string"==typeof t){t=r+t;var n=c(t);if(null!==n){var e=JSON.parse(n);return 0===e.e||e.e>=(new Date).getTime()?JSON.parse(e.d):(d(t),null)}}return null},this.purge=function(t){return"string"==typeof t?(t=r+t,d(t)):null},function(t){return t="object"==typeof t?t:{},r=void 0!==t.keyNamespace?t.keyNamespace:r,e=void 0!==t.preferLocalStorage?t.preferLocalStorage:e,n=e&&l()?u.a:a.a,i=n.setter,c=n.getter,d=n.purger,!0}(t)}n.a=r;var i=e(253),o=e.n(i),c=e(255),s=e.n(c),u=e(269),a=e(270)},269:function(t,n,e){"use strict";var r=window.localStorage;n.a={setter:function(t,n){return r.setItem(t,n)},getter:function(t){return r.getItem(t)},purger:function(t){return r.removeItem(t)}}},270:function(t,n,e){"use strict";var r={};n.a={setter:function(t,n){r[t]=n},getter:function(t){return void 0!==r[t]?r[t]:null},purger:function(t){return delete r[t],null}}},271:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var r=e(54),i=e.n(r),o=e(63),c=e.n(o),s=function(){function t(){i()(this,t),this.state={visibleProductId:null}}return c()(t,[{key:"showProduct",value:function(t){this.state.visibleProductId===t.product_id?this.state.visibleProductId=null:this.state.visibleProductId=t.product_id}}]),t}()}},[167]);
//# sourceMappingURL=BadAssGunBuilder.js.map